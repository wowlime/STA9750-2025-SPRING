<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.40">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Jackey Chen">

<title>The Loverboy Playlist – STA 9750 Submission Material</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-549806ee2085284f45b00abea8c6df48.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-31a69106845bb5235818fe7426cf0c4d.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link href="site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">

<script src="site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>

<link href="site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">

<script src="site_libs/datatables-binding-0.33/datatables.js"></script>

<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>

<link href="site_libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">

<link href="site_libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">

<script src="site_libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script>

<link href="site_libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">

<script src="site_libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>



</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">STA 9750 Submission Material</span>
    </a>
  </div>
        <div class="quarto-navbar-tools tools-end">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#creating-the-ultimate-playlist" id="toc-creating-the-ultimate-playlist" class="nav-link active" data-scroll-target="#creating-the-ultimate-playlist"><span style="border-bottom: 3px solid #ccc; padding-bottom: 5px;">Creating the Ultimate Playlist</span></a></li>
  <li><a href="#design-principles" id="toc-design-principles" class="nav-link" data-scroll-target="#design-principles"><span style="border-bottom: 3px solid #ccc; padding-bottom: 5px;">Design Principles</span></a></li>
  <li><a href="#data-acquisition-and-cleaning" id="toc-data-acquisition-and-cleaning" class="nav-link" data-scroll-target="#data-acquisition-and-cleaning"><span style="border-bottom: 3px solid #ccc; padding-bottom: 5px;">Data Acquisition and cleaning</span></a></li>
  <li><a href="#initial-analysis" id="toc-initial-analysis" class="nav-link" data-scroll-target="#initial-analysis"><span style="border-bottom: 3px solid #ccc; padding-bottom: 5px;">Initial Analysis</span></a></li>
  <li><a href="#analysis-with-visualizations" id="toc-analysis-with-visualizations" class="nav-link" data-scroll-target="#analysis-with-visualizations"><span style="border-bottom: 3px solid #ccc; padding-bottom: 5px;">Analysis with Visualizations</span></a></li>
  <li><a href="#building-the-loverboy-playlist" id="toc-building-the-loverboy-playlist" class="nav-link" data-scroll-target="#building-the-loverboy-playlist"><span style="border-bottom: 3px solid #ccc; padding-bottom: 5px;">Building The Loverboy Playlist</span></a></li>
  <li><a href="#the-ultimate-playlist" id="toc-the-ultimate-playlist" class="nav-link" data-scroll-target="#the-ultimate-playlist"><span style="border-bottom: 3px solid #ccc; padding-bottom: 5px;">The Ultimate Playlist</span></a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">The Loverboy Playlist</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Jackey Chen </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<iframe style="border-radius:12px" src="https://open.spotify.com/embed/playlist/2hVyyBEMzBYdCqhK2as26M?utm_source=generator" width="100%" height="352" frameborder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy">
</iframe>
<section id="creating-the-ultimate-playlist" class="level2">
<h2 class="anchored" data-anchor-id="creating-the-ultimate-playlist"><span style="border-bottom: 3px solid #ccc; padding-bottom: 5px;">Creating the Ultimate Playlist</span></h2>
<p>The Loverboy Playlist is 12 carefully curated tracks meant to represent the journey of love and heartbreak, capturing the highs and lows of it all. Whether you are mending a broken heart or yearning for that feeling of love, this playlist will allow you to let all your emotions out and find comfort in knowing that everything will be okay in the end.</p>
</section>
<section id="design-principles" class="level2">
<h2 class="anchored" data-anchor-id="design-principles"><span style="border-bottom: 3px solid #ccc; padding-bottom: 5px;">Design Principles</span></h2>
<p><strong>Heuristics</strong>: I decided to use my favorite song as the anchor for this analysis, it being <strong>The Way Life Goes (feat. Oh Wonder) by Lil Uzi Vert</strong>. The songs were selected using basic heuristics such as shared playlist appearances, similar keys and tempos, same artist, same year with similar audio, and similar valence.<br>
</p>
<p><strong>Narrative</strong>: Every song contributes to the emotional theme of love, loss, and growth. As the energy of the songs ramp up, so does the emotions, inviting listeners to feel vulnerable and accept all the good and bad that comes with being in love.<br>
</p>
<p><strong>Hidden Gems</strong>: Among the 12 tracks, at least 5 are considered “not popular” (Spotify Popularity &lt; 70), with hopes to highlight lesser known tracks. Through analysis I have also discovered 2 new tracks that I added to the playlist that conveyed the similar feelings.<br>
</p>
</section>
<section id="data-acquisition-and-cleaning" class="level2">
<h2 class="anchored" data-anchor-id="data-acquisition-and-cleaning"><span style="border-bottom: 3px solid #ccc; padding-bottom: 5px;">Data Acquisition and cleaning</span></h2>
<p><strong>Downloading Song Characteristic Data</strong></p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>load_songs <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  url <span class="ot">&lt;-</span> <span class="st">"https://raw.githubusercontent.com/gabminamedez/spotify-data/refs/heads/master/data.csv"</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  dir_path <span class="ot">&lt;-</span> <span class="st">"data/mp03"</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  file_path <span class="ot">&lt;-</span> <span class="fu">file.path</span>(dir_path, <span class="st">"spotify_data.csv"</span>)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">dir.exists</span>(dir_path)) {</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">dir.create</span>(dir_path, <span class="at">recursive =</span> <span class="cn">TRUE</span>)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">file.exists</span>(file_path)) {</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">message</span>(<span class="st">"Downloading Spotify song dataset..."</span>)</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">download.file</span>(url, <span class="at">destfile =</span> file_path, <span class="at">mode =</span> <span class="st">"wb"</span>)</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">message</span>(<span class="st">"Using cached file."</span>)</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>  songs_raw <span class="ot">&lt;-</span> readr<span class="sc">::</span><span class="fu">read_csv</span>(file_path, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>  clean_artist_string <span class="ot">&lt;-</span> <span class="cf">function</span>(x){</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>    x <span class="sc">|&gt;</span></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>      stringr<span class="sc">::</span><span class="fu">str_replace_all</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">['"</span>, <span class="st">""</span>) <span class="sc">|&gt;</span></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>      stringr<span class="sc">::</span><span class="fu">str_replace_all</span>(<span class="st">"'</span><span class="sc">\\</span><span class="st">]"</span>, <span class="st">""</span>) <span class="sc">|&gt;</span></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>      stringr<span class="sc">::</span><span class="fu">str_replace_all</span>(<span class="st">"[ ]?'"</span>, <span class="st">""</span>) <span class="sc">|&gt;</span></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>      stringr<span class="sc">::</span><span class="fu">str_replace_all</span>(<span class="st">"[ ]*,[ ]*"</span>, <span class="st">","</span>)</span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>  songs_clean <span class="ot">&lt;-</span> songs_raw <span class="sc">|&gt;</span></span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>    tidyr<span class="sc">::</span><span class="fu">separate_longer_delim</span>(artists, <span class="st">","</span>) <span class="sc">|&gt;</span></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">artist =</span> <span class="fu">clean_artist_string</span>(artists)) <span class="sc">|&gt;</span></span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>artists)</span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(songs_clean)</span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a>SONGS <span class="ot">&lt;-</span> <span class="fu">load_songs</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Using cached file.</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>SONGS <span class="sc">|&gt;</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(name, artist, year, popularity, danceability, energy) <span class="sc">|&gt;</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">10</span>) <span class="sc">|&gt;</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">caption =</span> <span class="st">"Sample of Cleaned Spotify Songs Data"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Sample of Cleaned Spotify Songs Data</caption>
<colgroup>
<col style="width: 45%">
<col style="width: 19%">
<col style="width: 4%">
<col style="width: 10%">
<col style="width: 12%">
<col style="width: 6%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">name</th>
<th style="text-align: left;">artist</th>
<th style="text-align: right;">year</th>
<th style="text-align: right;">popularity</th>
<th style="text-align: right;">danceability</th>
<th style="text-align: right;">energy</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Singende Bataillone 1. Teil</td>
<td style="text-align: left;">Carl Woitschach</td>
<td style="text-align: right;">1928</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.708</td>
<td style="text-align: right;">0.1950</td>
</tr>
<tr class="even">
<td style="text-align: left;">Fantasiestücke, Op. 111: Più tosto lento</td>
<td style="text-align: left;">Robert Schumann</td>
<td style="text-align: right;">1928</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.379</td>
<td style="text-align: right;">0.0135</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Fantasiestücke, Op. 111: Più tosto lento</td>
<td style="text-align: left;">Vladimir Horowitz</td>
<td style="text-align: right;">1928</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.379</td>
<td style="text-align: right;">0.0135</td>
</tr>
<tr class="even">
<td style="text-align: left;">Chapter 1.18 - Zamek kaniowski</td>
<td style="text-align: left;">Seweryn Goszczyński</td>
<td style="text-align: right;">1928</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.749</td>
<td style="text-align: right;">0.2200</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Bebamos Juntos - Instrumental (Remasterizado)</td>
<td style="text-align: left;">Francisco Canaro</td>
<td style="text-align: right;">1928</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.781</td>
<td style="text-align: right;">0.1300</td>
</tr>
<tr class="even">
<td style="text-align: left;">Polonaise-Fantaisie in A-Flat Major, Op. 61</td>
<td style="text-align: left;">Frédéric Chopin</td>
<td style="text-align: right;">1928</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.210</td>
<td style="text-align: right;">0.2040</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Polonaise-Fantaisie in A-Flat Major, Op. 61</td>
<td style="text-align: left;">Vladimir Horowitz</td>
<td style="text-align: right;">1928</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.210</td>
<td style="text-align: right;">0.2040</td>
</tr>
<tr class="even">
<td style="text-align: left;">Scherzo a capriccio: Presto</td>
<td style="text-align: left;">Felix Mendelssohn</td>
<td style="text-align: right;">1928</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.424</td>
<td style="text-align: right;">0.1200</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Scherzo a capriccio: Presto</td>
<td style="text-align: left;">Vladimir Horowitz</td>
<td style="text-align: right;">1928</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.424</td>
<td style="text-align: right;">0.1200</td>
</tr>
<tr class="even">
<td style="text-align: left;">Valse oubliée No.&nbsp;1 in F-Sharp Major, S. 215/1</td>
<td style="text-align: left;">Franz Liszt</td>
<td style="text-align: right;">1928</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.444</td>
<td style="text-align: right;">0.1970</td>
</tr>
</tbody>
</table>
</div>
</div>
<p><strong>Downloading Playlists Data</strong><a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>load_playlists <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">start =</span> <span class="dv">0</span>, <span class="at">stop =</span> <span class="dv">300000</span>, <span class="at">step =</span> <span class="dv">1000</span>) {</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  base_url <span class="ot">&lt;-</span> <span class="st">"https://raw.githubusercontent.com/DevinOgrady/spotify_million_playlist_dataset/main/data1/"</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  local_dir <span class="ot">&lt;-</span> <span class="st">"data/mp03/playlists"</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">dir.exists</span>(local_dir)) {</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">dir.create</span>(local_dir, <span class="at">recursive =</span> <span class="cn">TRUE</span>)</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>  playlist_list <span class="ot">&lt;-</span> <span class="fu">list</span>()</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>  i <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (start_val <span class="cf">in</span> <span class="fu">seq</span>(start, stop, <span class="at">by =</span> step)) {</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>    end_val <span class="ot">&lt;-</span> start_val <span class="sc">+</span> step <span class="sc">-</span> <span class="dv">1</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>    filename <span class="ot">&lt;-</span> <span class="fu">sprintf</span>(<span class="st">"mpd.slice.%d-%d.json"</span>, start_val, end_val)</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>    file_path <span class="ot">&lt;-</span> <span class="fu">file.path</span>(local_dir, filename)</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>    file_url <span class="ot">&lt;-</span> <span class="fu">paste0</span>(base_url, filename)</span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>    file_found <span class="ot">&lt;-</span> <span class="cn">TRUE</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="sc">!</span><span class="fu">file.exists</span>(file_path)) {</span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>      <span class="fu">message</span>(<span class="st">"Attempting download: "</span>, filename)</span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>      <span class="fu">tryCatch</span>({</span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>        <span class="fu">download.file</span>(file_url, <span class="at">destfile =</span> file_path, <span class="at">mode =</span> <span class="st">"wb"</span>)</span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>        <span class="fu">message</span>(<span class="st">"Downloaded: "</span>, filename)</span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>      }, <span class="at">error =</span> <span class="cf">function</span>(e) {</span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>        <span class="fu">message</span>(<span class="st">"Skipped (not found): "</span>, filename)</span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>        file_found <span class="ot">&lt;&lt;-</span> <span class="cn">FALSE</span></span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>      })</span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> {</span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>      <span class="fu">message</span>(<span class="st">"Using cached: "</span>, filename)</span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (file_found <span class="sc">&amp;&amp;</span> <span class="fu">file.exists</span>(file_path)) {</span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a>      json <span class="ot">&lt;-</span> jsonlite<span class="sc">::</span><span class="fu">fromJSON</span>(file_path, <span class="at">flatten =</span> <span class="cn">TRUE</span>)</span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a>      playlist_list[[i]] <span class="ot">&lt;-</span> json<span class="sc">$</span>playlists</span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a>      i <span class="ot">&lt;-</span> i <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(dplyr<span class="sc">::</span><span class="fu">bind_rows</span>(playlist_list))</span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true" tabindex="-1"></a>playlists <span class="ot">&lt;-</span> <span class="fu">load_playlists</span>(<span class="at">start =</span> <span class="dv">0</span>, <span class="at">stop =</span> <span class="dv">10000</span>, <span class="at">step =</span> <span class="dv">1000</span>)</span>
<span id="cb4-41"><a href="#cb4-41" aria-hidden="true" tabindex="-1"></a>playlists <span class="sc">|&gt;</span></span>
<span id="cb4-42"><a href="#cb4-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(name, num_tracks, num_followers, duration_ms) <span class="sc">|&gt;</span></span>
<span id="cb4-43"><a href="#cb4-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">10</span>) <span class="sc">|&gt;</span></span>
<span id="cb4-44"><a href="#cb4-44" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">caption =</span> <span class="st">"Sample of Loaded Playlist Metadata"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Sample of Loaded Playlist Metadata</caption>
<thead>
<tr class="header">
<th style="text-align: left;">name</th>
<th style="text-align: right;">num_tracks</th>
<th style="text-align: right;">num_followers</th>
<th style="text-align: right;">duration_ms</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Throwbacks</td>
<td style="text-align: right;">52</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">11532414</td>
</tr>
<tr class="even">
<td style="text-align: left;">Awesome Playlist</td>
<td style="text-align: right;">39</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">11656470</td>
</tr>
<tr class="odd">
<td style="text-align: left;">korean</td>
<td style="text-align: right;">64</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">14039958</td>
</tr>
<tr class="even">
<td style="text-align: left;">mat</td>
<td style="text-align: right;">126</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">28926058</td>
</tr>
<tr class="odd">
<td style="text-align: left;">90s</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">4335282</td>
</tr>
<tr class="even">
<td style="text-align: left;">Wedding</td>
<td style="text-align: right;">80</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">19156557</td>
</tr>
<tr class="odd">
<td style="text-align: left;">I Put A Spell On You</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">3408479</td>
</tr>
<tr class="even">
<td style="text-align: left;">2017</td>
<td style="text-align: right;">53</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">12674796</td>
</tr>
<tr class="odd">
<td style="text-align: left;">BOP</td>
<td style="text-align: right;">46</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">9948921</td>
</tr>
<tr class="even">
<td style="text-align: left;">old country</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">4297488</td>
</tr>
</tbody>
</table>
</div>
</div>
<p><strong>Cleaning and Formatting Playlist Data</strong></p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>rectangle_playlists <span class="ot">&lt;-</span> <span class="cf">function</span>(playlist_df) {</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  strip_spotify_prefix <span class="ot">&lt;-</span> <span class="cf">function</span>(x){</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>    stringr<span class="sc">::</span><span class="fu">str_extract</span>(x, <span class="st">".*:.*:(.*)"</span>, <span class="at">group=</span><span class="dv">1</span>)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  playlist_df <span class="sc">|&gt;</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>    tidyr<span class="sc">::</span><span class="fu">unnest</span>(<span class="at">cols =</span> tracks, <span class="at">names_sep =</span> <span class="st">"_"</span>) <span class="sc">|&gt;</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>      <span class="at">playlist_position  =</span> dplyr<span class="sc">::</span><span class="fu">row_number</span>(),</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">track_id           =</span> <span class="fu">strip_spotify_prefix</span>(tracks_track_uri),</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">artist_id          =</span> <span class="fu">strip_spotify_prefix</span>(tracks_artist_uri),</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>      <span class="at">album_id           =</span> <span class="fu">strip_spotify_prefix</span>(tracks_album_uri)</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">transmute</span>(</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>      <span class="at">playlist_name      =</span> name,</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>      <span class="at">playlist_id        =</span> pid,</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>      playlist_position,</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>      <span class="at">playlist_followers =</span> num_followers,</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>      <span class="at">artist_name        =</span> tracks_artist_name,</span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>      artist_id,</span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>      <span class="at">track_name         =</span> tracks_track_name,</span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>      track_id,</span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>      <span class="at">album_name         =</span> tracks_album_name,</span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>      album_id,</span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>      <span class="at">duration           =</span> tracks_duration_ms</span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a>playlist_metadata <span class="ot">&lt;-</span> <span class="fu">load_playlists</span>(<span class="at">start =</span> <span class="dv">0</span>, <span class="at">stop =</span> <span class="dv">10000</span>, <span class="at">step =</span> <span class="dv">1000</span>)</span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a>rectangular_df <span class="ot">&lt;-</span> <span class="fu">rectangle_playlists</span>(playlist_metadata)</span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a>playlist_metadata <span class="ot">&lt;-</span> <span class="fu">load_playlists</span>(<span class="at">start =</span> <span class="dv">0</span>, <span class="at">stop =</span> <span class="dv">1999</span>, <span class="at">step =</span> <span class="dv">1000</span>)</span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(playlist_metadata[[<span class="dv">1</span>]])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code> chr [1:2000] "Throwbacks" "Awesome Playlist" "korean " "mat" "90s" ...</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>rectangular_df <span class="ot">&lt;-</span> <span class="fu">rectangle_playlists</span>(playlist_metadata)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>playlist_df <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(playlist_metadata)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>track_df <span class="ot">&lt;-</span> tidyr<span class="sc">::</span><span class="fu">unnest</span>(playlist_df, <span class="at">cols =</span> tracks, <span class="at">names_sep =</span> <span class="st">"_"</span>)</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>rectangular_df <span class="sc">|&gt;</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    playlist_name,</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>    track_name,</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>    artist_name,</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>    album_name,</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>    duration,</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>    playlist_followers</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">10</span>) <span class="sc">|&gt;</span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">caption =</span> <span class="st">"Sample of Cleaned Playlist-Track Data"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Sample of Cleaned Playlist-Track Data</caption>
<colgroup>
<col style="width: 9%">
<col style="width: 28%">
<col style="width: 12%">
<col style="width: 30%">
<col style="width: 6%">
<col style="width: 12%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">playlist_name</th>
<th style="text-align: left;">track_name</th>
<th style="text-align: left;">artist_name</th>
<th style="text-align: left;">album_name</th>
<th style="text-align: right;">duration</th>
<th style="text-align: right;">playlist_followers</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Throwbacks</td>
<td style="text-align: left;">Lose Control (feat. Ciara &amp; Fat Man Scoop)</td>
<td style="text-align: left;">Missy Elliott</td>
<td style="text-align: left;">The Cookbook</td>
<td style="text-align: right;">226863</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">Throwbacks</td>
<td style="text-align: left;">Toxic</td>
<td style="text-align: left;">Britney Spears</td>
<td style="text-align: left;">In The Zone</td>
<td style="text-align: right;">198800</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Throwbacks</td>
<td style="text-align: left;">Crazy In Love</td>
<td style="text-align: left;">Beyoncé</td>
<td style="text-align: left;">Dangerously In Love (Alben für die Ewigkeit)</td>
<td style="text-align: right;">235933</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">Throwbacks</td>
<td style="text-align: left;">Rock Your Body</td>
<td style="text-align: left;">Justin Timberlake</td>
<td style="text-align: left;">Justified</td>
<td style="text-align: right;">267266</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Throwbacks</td>
<td style="text-align: left;">It Wasn’t Me</td>
<td style="text-align: left;">Shaggy</td>
<td style="text-align: left;">Hot Shot</td>
<td style="text-align: right;">227600</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">Throwbacks</td>
<td style="text-align: left;">Yeah!</td>
<td style="text-align: left;">Usher</td>
<td style="text-align: left;">Confessions</td>
<td style="text-align: right;">250373</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Throwbacks</td>
<td style="text-align: left;">My Boo</td>
<td style="text-align: left;">Usher</td>
<td style="text-align: left;">Confessions</td>
<td style="text-align: right;">223440</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">Throwbacks</td>
<td style="text-align: left;">Buttons</td>
<td style="text-align: left;">The Pussycat Dolls</td>
<td style="text-align: left;">PCD</td>
<td style="text-align: right;">225560</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Throwbacks</td>
<td style="text-align: left;">Say My Name</td>
<td style="text-align: left;">Destiny’s Child</td>
<td style="text-align: left;">The Writing’s On The Wall</td>
<td style="text-align: right;">271333</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">Throwbacks</td>
<td style="text-align: left;">Hey Ya! - Radio Mix / Club Mix</td>
<td style="text-align: left;">OutKast</td>
<td style="text-align: left;">Speakerboxxx/The Love Below</td>
<td style="text-align: right;">235213</td>
<td style="text-align: right;">1</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="initial-analysis" class="level2">
<h2 class="anchored" data-anchor-id="initial-analysis"><span style="border-bottom: 3px solid #ccc; padding-bottom: 5px;">Initial Analysis</span></h2>
<p>We first had some initial exploration we wanted to do with the playlist dataset.<br>
</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>rectangular_df <span class="sc">|&gt;</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">summarise</span>(</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">unique_tracks =</span> <span class="fu">n_distinct</span>(track_id),</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">unique_artists =</span> <span class="fu">n_distinct</span>(artist_id)</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">caption =</span> <span class="st">"Number of Unique Tracks and Artists"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Number of Unique Tracks and Artists</caption>
<thead>
<tr class="header">
<th style="text-align: right;">unique_tracks</th>
<th style="text-align: right;">unique_artists</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">57884</td>
<td style="text-align: right;">14973</td>
</tr>
</tbody>
</table>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>top_5_tracks <span class="ot">&lt;-</span> rectangular_df <span class="sc">|&gt;</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(track_id, track_name, artist_name, <span class="at">sort =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">5</span>)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>top_5_tracks <span class="sc">|&gt;</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">caption =</span> <span class="st">"Top 5 Most Frequently Appearing Tracks in Playlists"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Top 5 Most Frequently Appearing Tracks in Playlists</caption>
<colgroup>
<col style="width: 29%">
<col style="width: 46%">
<col style="width: 19%">
<col style="width: 3%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">track_id</th>
<th style="text-align: left;">track_name</th>
<th style="text-align: left;">artist_name</th>
<th style="text-align: right;">n</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1xznGGDReH1oQq0xzbwXa3</td>
<td style="text-align: left;">One Dance</td>
<td style="text-align: left;">Drake</td>
<td style="text-align: right;">98</td>
</tr>
<tr class="even">
<td style="text-align: left;">7KXjTSCq5nL1LoYtL7XAwS</td>
<td style="text-align: left;">HUMBLE.</td>
<td style="text-align: left;">Kendrick Lamar</td>
<td style="text-align: right;">96</td>
</tr>
<tr class="odd">
<td style="text-align: left;">7yyRTcZmCiyzzJlNzGC9Ol</td>
<td style="text-align: left;">Broccoli (feat. Lil Yachty)</td>
<td style="text-align: left;">DRAM</td>
<td style="text-align: right;">87</td>
</tr>
<tr class="even">
<td style="text-align: left;">3a1lNhkSLSkpJE4MSHpDu9</td>
<td style="text-align: left;">Congratulations</td>
<td style="text-align: left;">Post Malone</td>
<td style="text-align: right;">86</td>
</tr>
<tr class="odd">
<td style="text-align: left;">4Km5HrUvYTaSUfiSGPJeQR</td>
<td style="text-align: left;">Bad and Boujee (feat. Lil Uzi Vert)</td>
<td style="text-align: left;">Migos</td>
<td style="text-align: right;">84</td>
</tr>
</tbody>
</table>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>SONGS <span class="ot">&lt;-</span> SONGS <span class="sc">|&gt;</span> </span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">track_id =</span> id)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>missing_in_songs <span class="ot">&lt;-</span> rectangular_df <span class="sc">|&gt;</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">anti_join</span>(SONGS, <span class="at">by =</span> <span class="st">"track_id"</span>) <span class="sc">|&gt;</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">count</span>(track_name, <span class="at">sort =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">1</span>)</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>missing_in_songs <span class="sc">|&gt;</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">caption =</span> <span class="st">"Most Frequently Appearing Track Missing from SONGS Data"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Most Frequently Appearing Track Missing from SONGS Data</caption>
<thead>
<tr class="header">
<th style="text-align: left;">track_name</th>
<th style="text-align: right;">n</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">One Dance</td>
<td style="text-align: right;">98</td>
</tr>
</tbody>
</table>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>most_danceable <span class="ot">&lt;-</span> SONGS <span class="sc">|&gt;</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(<span class="fu">desc</span>(danceability)) <span class="sc">|&gt;</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">slice</span>(<span class="dv">1</span>)</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>most_danceable <span class="sc">|&gt;</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(name, artist, danceability, popularity, year) <span class="sc">|&gt;</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">caption =</span> <span class="st">"Most Danceable Track in the SONGS Dataset"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Most Danceable Track in the SONGS Dataset</caption>
<thead>
<tr class="header">
<th style="text-align: left;">name</th>
<th style="text-align: left;">artist</th>
<th style="text-align: right;">danceability</th>
<th style="text-align: right;">popularity</th>
<th style="text-align: right;">year</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Funky Cold Medina</td>
<td style="text-align: left;">Tone-Loc</td>
<td style="text-align: right;">0.988</td>
<td style="text-align: right;">57</td>
<td style="text-align: right;">1989</td>
</tr>
</tbody>
</table>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>appearance_count <span class="ot">&lt;-</span> rectangular_df <span class="sc">|&gt;</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(track_id <span class="sc">==</span> most_danceable<span class="sc">$</span>track_id) <span class="sc">|&gt;</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">count</span>() <span class="sc">|&gt;</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="st">`</span><span class="at">Playlist Appearances</span><span class="st">`</span> <span class="ot">=</span> n)</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>appearance_count <span class="sc">|&gt;</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">caption =</span> <span class="st">"How Often the Most Danceable Track Appears in Playlists"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>How Often the Most Danceable Track Appears in Playlists</caption>
<thead>
<tr class="header">
<th style="text-align: right;">Playlist Appearances</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1</td>
</tr>
</tbody>
</table>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>longest_avg_playlist <span class="ot">&lt;-</span> rectangular_df <span class="sc">|&gt;</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(playlist_name, playlist_id) <span class="sc">|&gt;</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">summarize</span>(<span class="at">avg_duration =</span> <span class="fu">mean</span>(duration, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">|&gt;</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(<span class="fu">desc</span>(avg_duration)) <span class="sc">|&gt;</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">slice</span>(<span class="dv">1</span>)</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>longest_avg_playlist <span class="sc">|&gt;</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">avg_duration =</span> <span class="fu">round</span>(avg_duration <span class="sc">/</span> <span class="dv">60000</span>, <span class="dv">2</span>)) <span class="sc">|&gt;</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="st">`</span><span class="at">Average Track Duration (min)</span><span class="st">`</span> <span class="ot">=</span> avg_duration) <span class="sc">|&gt;</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">caption =</span> <span class="st">"Playlist with the Longest Average Track Duration"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Playlist with the Longest Average Track Duration</caption>
<thead>
<tr class="header">
<th style="text-align: left;">playlist_name</th>
<th style="text-align: right;">playlist_id</th>
<th style="text-align: right;">Average Track Duration (min)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Lust</td>
<td style="text-align: right;">1790</td>
<td style="text-align: right;">9.18</td>
</tr>
</tbody>
</table>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>most_followed <span class="ot">&lt;-</span> rectangular_df <span class="sc">|&gt;</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">distinct</span>(playlist_id, playlist_name, playlist_followers) <span class="sc">|&gt;</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(<span class="fu">desc</span>(playlist_followers)) <span class="sc">|&gt;</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">slice</span>(<span class="dv">1</span>)</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>most_followed <span class="sc">|&gt;</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">caption =</span> <span class="st">"Most Followed Playlist in the Dataset"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Most Followed Playlist in the Dataset</caption>
<thead>
<tr class="header">
<th style="text-align: right;">playlist_id</th>
<th style="text-align: left;">playlist_name</th>
<th style="text-align: right;">playlist_followers</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">765</td>
<td style="text-align: left;">Tangled</td>
<td style="text-align: right;">1038</td>
</tr>
</tbody>
</table>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>SONGS_unique <span class="ot">&lt;-</span> SONGS <span class="sc">|&gt;</span> </span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(track_id, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>)</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>combined_df <span class="ot">&lt;-</span> <span class="fu">inner_join</span>(rectangular_df, SONGS_unique, <span class="at">by =</span> <span class="st">"track_id"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="analysis-with-visualizations" class="level2">
<h2 class="anchored" data-anchor-id="analysis-with-visualizations"><span style="border-bottom: 3px solid #ccc; padding-bottom: 5px;">Analysis with Visualizations</span></h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>track_popularity <span class="ot">&lt;-</span> combined_df <span class="sc">|&gt;</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(track_id, track_name, artist_name) <span class="sc">|&gt;</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">playlist_appearances =</span> <span class="fu">n</span>(),</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">avg_popularity =</span> <span class="fu">mean</span>(popularity, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(track_popularity, <span class="fu">aes</span>(<span class="at">x =</span> playlist_appearances, <span class="at">y =</span> avg_popularity)) <span class="sc">+</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.4</span>, <span class="at">color =</span> <span class="st">"steelblue"</span>) <span class="sc">+</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_log10</span>() <span class="sc">+</span>  <span class="co"># log scale to handle skewed data</span></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Popularity vs Playlist Appearances"</span>,</span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Playlist Appearances (log scale)"</span>,</span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Spotify Popularity Score"</span></span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="mp03_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>From the graph, we can interpret that as a song gets more popular, it will appear on playlists more.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(combined_df, <span class="fu">aes</span>(<span class="at">x =</span> popularity)) <span class="sc">+</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">5</span>, <span class="at">fill =</span> <span class="st">"steelblue"</span>, <span class="at">color =</span> <span class="st">"white"</span>) <span class="sc">+</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Distribution of Spotify Popularity Scores"</span>,</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Popularity Score"</span>,</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Number of Tracks"</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="mp03_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>The popularity scores of the songs from the dataset seem to be a majority around the 50-75 scores.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>popular_threshold <span class="ot">&lt;-</span> <span class="dv">65</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>popular_songs <span class="ot">&lt;-</span> combined_df <span class="sc">|&gt;</span> <span class="fu">filter</span>(popularity <span class="sc">&gt;=</span> popular_threshold)</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>popular_songs <span class="sc">|&gt;</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(year) <span class="sc">|&gt;</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> n)) <span class="sc">+</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">fill =</span> <span class="st">"forestgreen"</span>) <span class="sc">+</span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Most Popular Songs by Release Year"</span>,</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Release Year"</span>,</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Number of Popular Songs"</span></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="mp03_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>From the graph, we can tell that more songs are getting popular in recent times than in the past, where it was rarer for a song to become popular.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>top_dance_year <span class="ot">&lt;-</span> popular_songs <span class="sc">|&gt;</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year) <span class="sc">|&gt;</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">avg_danceability =</span> <span class="fu">mean</span>(danceability, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">|&gt;</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(avg_danceability)) <span class="sc">|&gt;</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span>)</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>top_dance_year</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 2
   year avg_danceability
  &lt;dbl&gt;            &lt;dbl&gt;
1  1982            0.741</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>popular_songs <span class="sc">|&gt;</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year) <span class="sc">|&gt;</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">avg_danceability =</span> <span class="fu">mean</span>(danceability, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">|&gt;</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> avg_danceability)) <span class="sc">+</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">"tomato"</span>, <span class="at">size =</span> <span class="fl">1.2</span>) <span class="sc">+</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Average Danceability by Year (Popular Songs)"</span>,</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Release Year"</span>,</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Danceability"</span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="mp03_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>From the graph, we can see that the average danceabiliy of each year changes drastically every year, with the peak year of average danceability being 1982.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>combined_df <span class="sc">|&gt;</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(year)) <span class="sc">|&gt;</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">decade =</span> (year <span class="sc">%/%</span> <span class="dv">10</span>) <span class="sc">*</span> <span class="dv">10</span>) <span class="sc">|&gt;</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(decade) <span class="sc">|&gt;</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">factor</span>(decade), <span class="at">y =</span> n)) <span class="sc">+</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">fill =</span> <span class="st">"darkorchid"</span>) <span class="sc">+</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Most Represented Decade in User Playlists"</span>,</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Decade"</span>,</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Number of Tracks"</span></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="mp03_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>We are able to see that the most represented decade in users playlists are in the 2010s to 2020, with users clearly not leaning towards adding older songs into their playlists.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>key_labels <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"C"</span>, <span class="st">"C♯/D♭"</span>, <span class="st">"D"</span>, <span class="st">"D♯/E♭"</span>, <span class="st">"E"</span>, <span class="st">"F"</span>, </span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>                <span class="st">"F♯/G♭"</span>, <span class="st">"G"</span>, <span class="st">"G♯/A♭"</span>, <span class="st">"A"</span>, <span class="st">"A♯/B♭"</span>, <span class="st">"B"</span>)</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>combined_df <span class="sc">|&gt;</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(key)) <span class="sc">|&gt;</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(key) <span class="sc">|&gt;</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">key_label =</span> <span class="fu">factor</span>(key_labels[key <span class="sc">+</span> <span class="dv">1</span>], <span class="at">levels =</span> key_labels)) <span class="sc">|&gt;</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> key_label, <span class="at">y =</span> n, <span class="at">fill =</span> key_label)) <span class="sc">+</span></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_polar</span>() <span class="sc">+</span></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Key Frequency Among Songs"</span>,</span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="cn">NULL</span>, <span class="at">y =</span> <span class="cn">NULL</span></span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="mp03_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Since every song has different keys, I decided to look at all of them and we are able to see that C♯/D♭ is the most common key in songs.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>combined_df <span class="sc">|&gt;</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">duration_min =</span> duration <span class="sc">/</span> <span class="dv">60000</span>) <span class="sc">|&gt;</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> duration_min)) <span class="sc">+</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="fl">0.25</span>, <span class="at">fill =</span> <span class="st">"steelblue"</span>, <span class="at">color =</span> <span class="st">"white"</span>) <span class="sc">+</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">10</span>)) <span class="sc">+</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Distribution of Track Lengths"</span>,</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Duration (minutes)"</span>,</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Number of Tracks"</span></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="mp03_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>From the graph, we are able to see that the graph is bell shaped, with majority of songs being between 2.5-5 minutes long.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>combined_df <span class="sc">|&gt;</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">explicit =</span> <span class="fu">ifelse</span>(explicit <span class="sc">==</span> <span class="dv">1</span>, <span class="st">"Explicit"</span>, <span class="st">"Clean"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> explicit, <span class="at">y =</span> popularity, <span class="at">fill =</span> explicit)) <span class="sc">+</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Are Explicit Songs More Popular?"</span>,</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Song Type"</span>,</span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Spotify Popularity"</span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"steelblue"</span>, <span class="st">"tomato"</span>)) <span class="sc">+</span></span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="mp03_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>For my first exploratory question, I was curious if explicit songs have an effect on how popular a song is, and from the graph we are able to see that explicit songs are slightly more popular than clean songs.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>explicit_by_decade <span class="ot">&lt;-</span> combined_df <span class="sc">|&gt;</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(year)) <span class="sc">|&gt;</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">decade =</span> (year <span class="sc">%/%</span> <span class="dv">10</span>) <span class="sc">*</span> <span class="dv">10</span>,</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">explicit =</span> <span class="fu">ifelse</span>(explicit <span class="sc">==</span> <span class="dv">1</span>, <span class="st">"Explicit"</span>, <span class="st">"Clean"</span>)</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(decade, explicit)</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(explicit_by_decade, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">factor</span>(decade), <span class="at">y =</span> n, <span class="at">fill =</span> explicit)) <span class="sc">+</span></span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">position =</span> <span class="st">"fill"</span>) <span class="sc">+</span>  <span class="co"># Use "fill" for proportions, "stack" for raw counts</span></span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span>percent) <span class="sc">+</span></span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Clean"</span> <span class="ot">=</span> <span class="st">"steelblue"</span>, <span class="st">"Explicit"</span> <span class="ot">=</span> <span class="st">"firebrick"</span>)) <span class="sc">+</span></span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Proportion of Explicit Songs by Decade"</span>,</span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Decade"</span>,</span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Proportion of Songs"</span>,</span>
<span id="cb26-16"><a href="#cb26-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">"Track Type"</span></span>
<span id="cb26-17"><a href="#cb26-17" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb26-18"><a href="#cb26-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="mp03_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>I wanted to see the difference between the amount of songs from each decade that were explicit or clean, with explicit songs only becoming poopular around the 90’s and now almost half the songs on playlists are explicit, showing how artists are evolving over time.<br>
</p>
</section>
<section id="building-the-loverboy-playlist" class="level2">
<h2 class="anchored" data-anchor-id="building-the-loverboy-playlist"><span style="border-bottom: 3px solid #ccc; padding-bottom: 5px;">Building The Loverboy Playlist</span></h2>
<p>With the anchor song being The Way Life Goes, from the combined dataset I was able to gather data on the songs in the same playlist, songs in the same key and tempo, songs from the same artist, and songs from the same year with similar audio. From there, I was able to look through each dataset and choose songs from each of them, giving me a diverse yet similar array of songs to choose to make my ultimate playlist.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>anchor_tracks <span class="ot">&lt;-</span> combined_df <span class="sc">|&gt;</span> </span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(track_name <span class="sc">==</span> <span class="st">"The Way Life Goes (feat. Oh Wonder)"</span>, </span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>         artist_name <span class="sc">==</span> <span class="st">"Lil Uzi Vert"</span>)</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>same_playlist_songs <span class="ot">&lt;-</span> combined_df <span class="sc">|&gt;</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(playlist_id <span class="sc">%in%</span> anchor_tracks<span class="sc">$</span>playlist_id) <span class="sc">|&gt;</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(track_id <span class="sc">!=</span> anchor_tracks<span class="sc">$</span>track_id[<span class="dv">1</span>]) <span class="sc">|&gt;</span></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(track_id, track_name, artist_name, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>)</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>same_playlist_songs <span class="sc">|&gt;</span></span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(track_name, artist_name, playlist_name) <span class="sc">|&gt;</span></span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">datatable</span>(</span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Songs from the Same Playlist as the Anchor Track"</span>,</span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">options =</span> <span class="fu">list</span>(<span class="at">pageLength =</span> <span class="dv">10</span>, <span class="at">scrollX =</span> <span class="cn">TRUE</span>)</span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-721a7737d6a38b81a57c" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-721a7737d6a38b81a57c">{"x":{"filter":"none","vertical":false,"caption":"<caption>Songs from the Same Playlist as the Anchor Track<\/caption>","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255","256","257","258","259","260","261","262","263","264","265","266","267","268","269","270","271","272","273","274","275","276","277","278","279","280","281","282","283","284","285","286","287","288","289","290","291","292","293","294","295","296","297","298","299","300","301","302","303","304","305","306","307","308","309","310","311","312","313","314","315","316","317","318","319","320","321","322","323","324","325","326","327","328","329","330","331","332","333","334","335","336","337","338","339","340","341","342","343","344","345","346","347","348","349","350","351","352","353","354","355","356","357","358","359","360","361","362","363","364","365","366","367","368","369","370","371","372","373","374","375","376","377","378","379","380","381","382","383","384","385","386","387","388","389","390","391","392","393","394","395","396","397","398","399","400","401","402","403","404","405","406","407","408","409","410","411","412","413","414","415","416","417","418","419","420","421","422","423","424","425","426","427","428","429","430","431","432","433","434","435","436","437","438","439","440","441","442","443","444","445","446","447","448","449","450","451","452","453","454","455","456","457","458","459","460","461","462","463","464","465","466","467","468","469","470","471","472","473","474","475","476","477","478","479","480","481","482","483","484","485","486","487","488","489","490","491","492","493","494","495","496","497","498","499","500","501","502","503","504","505","506","507","508","509","510","511","512","513","514","515","516","517","518","519","520","521","522","523","524","525","526","527","528","529","530","531","532","533","534","535","536","537","538","539","540","541","542","543","544","545","546","547","548","549","550","551","552","553","554","555","556","557","558","559","560","561","562","563","564","565","566","567","568","569","570","571","572","573","574","575","576","577","578","579","580","581","582","583","584","585","586","587","588","589","590","591","592","593","594","595","596","597","598","599","600","601","602","603","604","605","606","607","608","609","610","611","612","613","614","615","616","617","618","619","620","621","622","623","624","625","626","627","628","629","630","631","632","633","634","635","636","637","638","639","640","641","642","643","644","645","646","647","648","649","650","651","652","653","654","655","656","657","658","659","660","661","662","663","664","665","666","667","668","669","670","671","672","673","674","675","676","677","678","679","680","681","682","683","684","685","686","687","688","689","690","691","692","693","694","695","696","697","698","699","700","701","702","703","704","705","706","707","708","709","710","711","712","713","714","715","716","717","718","719","720","721","722","723","724","725","726","727","728","729","730","731","732","733","734","735","736","737","738","739","740","741","742","743","744","745","746","747","748","749","750","751","752","753","754","755","756","757","758","759","760","761","762","763","764","765","766","767","768","769","770","771","772","773","774","775","776","777","778","779","780","781","782","783","784","785","786","787","788","789","790","791","792","793","794","795","796","797","798","799"],["Whatever You Like","Comin Out Strong","The Show Goes On","goosebumps","wokeuplikethis*","Ni**as In Paris","iSpy (feat. Lil Yachty)","DNA.","HUMBLE.","Trophies","XO TOUR Llif3","Mask Off","$ave Dat Money (feat. Fetty Wap &amp; Rich Homie Quan)","A Milli","6 Foot 7 Foot","Right Above It","FML","pick up the phone","Relationship (feat. Future)","Goldie","Whatever You Need (feat. Chris Brown &amp; Ty Dolla $ign)","GOD.","Love Me","Promise","wonderful","Battle Scars","POWER","Wyclef Jean","No Option","Father Stretch My Hands Pt. 1","Digits","Champions","Gorgeous","Dark Fantasy","Mr. Carter","Lollipop","Buy The World","Erase Your Social","Reminder - Remix","X","President Carter","Myself","Love U Better (feat. Lil Wayne &amp; The-Dream)","Patek Water","All Of The Lights","I Get The Bag (feat. Migos)","Get Right Witcha","Ps &amp; Qs","SideLine Watching (Hold Up)","Ballin","Super Saiyan","Money Longer","You're Lost","Hi Roller","Ronda (Winners)","Pull Up (feat. Lil Uzi Vert)","Grab the Wheel","Top","All My Chains","7am","You Was Right","Do What I Want","I Can Drive","Team Rocket","Safe House","Seven Million (feat. Future)","Right Now","Paradise","Two®","444+222","Sauce It Up","Feelings Mutual","Neon Guts (feat. Pharrell Williams)","Early 20 Rager","How To Talk","Malfunction","Dark Queen","New Level REMIX","Pretty Mami","Canadian Goose","No Sleep Leak","What Do I Know?","I Like","Feels - Jai Wolf Remix","Check","Shining","Something Just Like This","Bad and Boujee (feat. Lil Uzi Vert)","Ransom","T-Shirt","Moves","Money Made Me Do It","This Could Be Us","Selfish","Shape of You","Sunset Lover","Party Monster","Wicked","The Ocean","Bounce Back","Rockin' That Sh**","Sexy Can I feat. Yung Berg","We Can't Stop","Feel No Ways","U With Me?","Wild Things","Kno One","Where Ya At","Pour It Up","Motivation","Loveeeeeee Song","Madiba Riddim","Exchange","Scared to Be Lonely","Now Or Never","Close","Go Flex","Still Got Time","Impatient","Unforgettable","Someone Else","First Time","Selfish","Slide","Location","Strangers","Up","Everyday We Lit (feat. PnB Rock)","Heaven In Hiding","Hold On, We're Going Home","Don't Leave","No Fear","From The D To The A (feat. Lil Yachty)","It's A Vibe","OMG","Horses (with PnB Rock, Kodak Black &amp; A Boogie Wit da Hoodie)","Come and See Me (feat. Drake)","Don't","Get It Together","Held Me Down","Would You Ever","Hunger","Walls Could Talk","bellyache","This Town","Slippery (feat. Gucci Mane)","Congratulations","Blessings","Wet Dreamz","Everyday","No Problem (feat. Lil Wayne &amp; 2 Chainz)","ELEMENT.","No Role Modelz","G.O.M.D.","The Real Slim Shady","Low Life","Tunnel Vision","F**kin' Problems","Smoke Break (feat. Future)","Skrt","Antidote","Look At Me!","Kelly Price (feat. Travis Scott)","All We Got (feat. Kanye West &amp; Chicago Children's Choir)","beibs in the trap","R.I.C.O. (feat. Drake)","Both (feat. Drake)","Met Gala (feat. Offset)","Skateboard P (feat. Big Sean)","No Flockin","coordinate","Sacrifices","Magnolia","Portland","Bank Account","90210","Work REMIX","4 AM","A Tale of 2 Citiez","Both Eyes Closed (feat. 2 Chainz and Young Dolph)","Too Young","White Iverson","Uber Everywhere (feat. Travis Scott)","Black Skinhead","Both (feat. Drake &amp; Lil Wayne) - Remix","Mo Money Mo Problems (feat. Mase &amp; Puff Daddy) - 2014 Remastered Version","Drowning (feat. Kodak Black)","Hypnotize - 2014 Remastered Version","Waves","Day 'N' Nite (nightmare)","Go Off (with Lil Uzi Vert, Quavo &amp; Travis Scott)","Audi.","Swang","Fight Night","2 Phones","Pursuit Of Happiness (nightmare)","Rolex","Gucci Gang","1-800-273-8255","Neighbors","For Real","Fake Love","Foldin Clothes","4 Your Eyez Only","Love Yourz","Numb","I Fall Apart","Patty Cake","Do It Myself","Free Smoke","Gyalchester","Ice Melts","Watch Out","Type of Way","What They Want","FaceTime","Whole Lot","First Day Out","No Effort","Fuck It up (feat. Yg)","Boss","THat Part","Cut It (feat. Young Dolph)","I'm so Groovy","No Flex Zone","No Type","Throw Sum Mo","No Heart","Water","My Shit","Like A Soccer Mom","Girlfriend","Right Hand","I'm The Plug","X (feat. Future)","Marmalade (feat. Lil Yachty)","Dan Bilzerian","U Guessed It","Why You Always Hatin?","Tiimmy Turner","Who Do You Love?","Know Yourself","Kno The Meaning","The Motto","Bugatti","10 Bands","Sorry Not Sorry","Deadz (feat. 2 Chainz)","Jocelyn Flores","Chill Bill","LOYALTY. FEAT. RIHANNA.","Ayo","Transportin'","Rake It Up","Hot N*gga","Addicted To My Ex","Down In the DM","Miss Independent","Love Don't Change","You Should Be Here","Marvins Room","Best Thing I Never Had","Say Goodbye","I Choose You","My Boo","I Wanna Know","Crush","Kissin' On My Tattoos","Song Cry","If You Go Away","Bed","Thinkin Bout You","Always Be My Baby","When I Saw You","This","Ex Calling","Luving U","Losin Control","Godspeed","We Belong Together","No Scrubs","Versace On The Floor","Too Good To Say Goodbye","Forever Ain't Enough","Promise","Sexy Love","Say You Won't Let Go","Hold Me","One Wish","Teenage Fever","Happier","Corazon Sin Cara","Doing It Wrong","Take Care","Supermarket Flowers","Late Night Drive","The Loudest Silence","i hate u, i love u (feat. olivia o'brien)","She Don't (feat. Ty Dolla $Ign)","Dance for You","Ya Man Ain't Me","Nothing Like Us - Bonus Track","Love Like This","Don't Wanna Try","Like You","Let Me Hold You","Bless The Broken Road","All My Life","Suffocate","Everybody Dies In Their Nightmares","Depression &amp; Obsession","Love Faces","I Needed You","Idfc","i miss the old u","You &amp; Me","Still Think About You","Coaster","Ain't Nobody Takin My Baby","Imma Dog Too","Switch Up","Psycho, Pt. 2","Saved","Nothin on Me","Fire &amp; Desire","Nobody Else But You","10,000 Hours","Think About Me","The Weekend","Get You (feat. Kali Uchis)","make daddy proud","Fuck Love (feat. Trippie Redd)","Best Part","Hallucinations","We Find Love","Shot Down","Can't Help But Wait","Southside","U Got It Bad","How You Gonna Act Like That","Always On Time","I Don't Wanna Know (feat. Enya &amp; P. Diddy) - 2016 Remastered","When It Hurts","Can't Be Friends","Over Here - feat. Drake","Remember Me","How To Deal","The Fault in Our Stars","Fallin' Too","Wife You Up","I Need A Girl","Don't Matter","When You're Mad","if i could i would feel nothing","Only One","Down","Sneakin’","Immortal","For Whom The Bell Tolls","Deja Vu","Ville Mentality","She's Mine Pt. 1","Change","She's Mine Pt. 2","Angels (feat. Saba)","Pompeii","Bad Blood","Icarus","Flaws","Red Opps","Without Me","The Way I Am","Stan","Sing For The Moment","Mockingbird","Cleanin' Out My Closet","Just Lose It","Guts Over Fear","Big Weenie","Perfect Pint (feat. Kendrick Lamar, Gucci Mane &amp; Rae Sremmurd)","Pt. 2","Numb / Encore","Revenge","One Night","Jumpman","Blem","Energy","0 To 100 / The Catch Up","Juke Jam (feat. Justin Bieber &amp; Towkio)","Come Get Her","do re mi","Silence","Ghetto Symphony","Roll In Peace (feat. XXXTENTACION)","UnFazed (feat. The Weeknd)","Carry On","Orlando","Off the Wall!","H2O","Plain Jane","All Along","Cudi Zone","Eleven 11: / 11","Wolves","Phoenix","Jungle","L$D","Saint Pablo","Frank's Track","Runaway","Blame Game","Complete","Same Drugs","These Things Happen","Planez","Now &amp; Forever","Star67","Wednesday Night Interlude","Let's Get Lost","Die For You","Feel","Hit This Hard","Madonna","PRBLMS","Nothings Into Somethings","Young Dumb &amp; Broke","Drama (feat. Drake)","Wus Good / Curious","Pretty Girl - Cheat Codes X CADE Remix","Borro Cassette","Uber Everywhere","Pop Style","Lonely","Keep The Family Close","9","Hype","Redemption","Grammys","Childs Play","Caroline","Gassed Up","Like Dat","Original Uzi (4 Of Us)","Jungle","Froze (feat. Lil Uzi Vert &amp; Nicki Minaj)","Skateboard P","Feeling Whitney","Minnesota","El Perdedor","Timeless (DJ SPINKING)","Odio","Dile Que Tu Me Quieres","Versace (Remix)","Héroe Favorito","Jorja Interlude","Sacrifices","Mase in '97","There He Go","That's What I Like","Lockjaw","Corazon De Seda (feat. Ozuna)","Vente Pa' Ca","Not A Regular Person","Tú Foto","Imitadora","Me Mata","Noches de Aventura","Quiero Repetir","El Farsante","Love Scars","Bust Down","In Too Deep","Deeply Scared","Poles 1469","Love Scars Pt. 2 / Rack City","It Takes Time","Never Ever Land","Romeo &amp; Juliet","Se Preparó","Say A'","Love Galore","Make Me (Cry)","I Can't Fall in Love Without You","To the Moon","LOVE. FEAT. ZACARI.","One I Want (feat. PARTYNEXTDOOR)","Drive By","Questions","Sunday","Norf Norf","Forrest Gump","Bad Religion","Backseat Freestyle","Institutionalized","Patient","Forbidden Fruit","8 Million Stories","Pink + White","Baptized In Fire","Novacane","Empty","Wat's Wrong (feat. Zacari &amp; Kendrick Lamar)","Paralyzed","Nights","Ice Cream Man","Lights Down Low","Super Rich Kids","Oh My Dis Side","Pull The Trigger","Yung God","Some Kind Of Drug","Remember You","Calm Down","Broken Whiskey Glass","Big Lie","Deja Vu","Cold","Up There","Yours Truly, Austin Post","Leave","Pony","Congratulations (feat. Bilal)","Mine","Kiss Me Thru The Phone","Rich As Fuck","I Know","Too Much Sauce","Movements","Chanel","The World Is Yours","Solo","Colossus","Biking","Childs Play (feat. Chance the Rapper)","Down for You","One of Those Nights","Keep Ya Head Up","Where This Flower Blooms","Droppin' Seeds","November","See You Again","911 / Mr. Lonely","The Need To Know (feat. SZA)","Save Me","Lifestyle","My Way (feat. Monty)","Ill Mind of Hopsin 8","I Come Apart","How To Love","Alpha Omega","Fashion Killa","Erase Me - Main","Excuse Me","Poetic Justice","Everybody","Sucker For Pain (with Wiz Khalifa, Imagine Dragons, Logic &amp; Ty Dolla $ign feat. X Ambassadors)","Alright","Hood Gone Love It (feat. Kendrick Lamar)","Stressed Out","Me, Myself &amp; I","Fuck You","Again","Wake Up","Candyman","Trap Queen","Kanye","Everyday We Lit (feat. PnB Rock, Lil Yachty &amp; Wiz Khalifa) - Remix","My House","Ride","I'm N Luv (Wit a Stripper)","Sub Me In","Classic Man - Remix","Provider","HUMBLE. - SKRILLEX REMIX","Bitch, Don’t Kill My Vibe - Remix","Bad At Love","OOOUUU","Party","She Belongs to the Game","Wavy (feat. Joe Moses)","Black Beatles","Post To Be (feat. Chris Brown &amp; Jhene Aiko)","Stupid Hoe","F*ck Up Some Commas","Black Barbies","Back to You (feat. Bebe Rexha &amp; Digital Farm Animals)","What About Us","Glorious (feat. Skylar Grey)","do re mi (feat. Gucci Mane)","Praying","Meant to Be (feat. Florida Georgia Line)","Yellow","Something About You - ODESZA Remix","Ritual (feat. Wrabel)","Paris","'Bout It (feat. Daniel James &amp; Benjamin O)","Molly (feat. Brendon Urie of Panic at the Disco)","Faded","Famous","Best Friend","Rambo","Blue Notes","With Them","Good Drank","through the late night","Some Way","Litty (feat. Tory Lanez)","Living Single","Cocoon","Privacy","These Days","Self-Made","RAF","Night Job","1942 Flows","Minute","Spice Girl","Pills &amp; Automobiles","No Air","Janet","Grey Luh","Chill Bill REMIX","Sunday Candy","oui","Rollin","Heebiejeebies - Bonus","Mixtape (feat. Young Thug &amp; Lil Yachty)","PRIDE.","Run Me Dry","My Love (feat. Major Lazer, WizKid, Dua Lipa)","All Night (feat. Knox Fortune)","Feel It Still","Self Control","Blessings","8TEEN","Bellyache - Marian Hill Remix","Feels","I Know What You Did Last Summer","Faking It","Crying in the Club","F.B.G.M.","Garden (Say It Like Dat)","Another Sad Love Song","Crew","New Rules","Japanese Denim","Easily","I Feel It Coming","Dirty Water","Lemonade - Ukulele Version","Blessed","I'm a Flirt Remix","No One - Kayge Calypso &amp; DUNN Remix","Caretaker (feat. SZA)","Doves In The Wind","Nothin' On You (feat. Bruno Mars)","Broken Clocks","Chunky","Call Me","Already","Running Back (feat. Lil Wayne)","A-Team","White Girl","Crew REMIX","Guwop (feat. Quavo, Offset and Young Scooter)","Lookin","New Choppa","Betrayed","Closer","This Is What You Came For","PILLOWTALK","Never Forget You","There for You","Animals - Extended","Summer","Outside","Where Are Ü Now (with Justin Bieber)","GDFR (feat. Sage The Gemini &amp; Lookas)","Want to Want Me","Headlines","Miss Me","Find Your Love","Thank Me Now","Don't You Worry Child (Radio Edit) [feat. John Martin]","High","Young, Wild &amp; Free (feat. Bruno Mars) - feat. Bruno Mars","She Will","I'm On One","My Last","No Sleep","Roll Up","When I'm Gone","No Hands (feat. Roscoe Dash and Wale) - Explicit Album Version","What's My Name?","Poppin Bottles (feat. Drake)","Fancy","Rack City","Faded","Dance (A$$) Remix","Work Hard, Play Hard","Thrift Shop (feat. Wanz)","Can't Hold Us - feat. Ray Dalton","Wild for the Night","Medicated - feat. Chevy Woods &amp; Juicy J","Bounce It","Bandz A Make Her Dance","Knock Knock","Loud","Another Night","Mercy.1","Lord Pretty Flacko Jodye 2 (LPFJ2)","Good Feeling","Go Hard","Don't Wanna Go Home","Wake Up","Whistle","The Other Side","Mr. Brightside","Runaway (U &amp; I)","Firestone","Blasé (feat. Future &amp; Rae Sremmurd) - Louis The Child Remix","1Hunnid","Thought It Was a Drought","Love Sosa","24K Magic","Partition","Hate Bein' Sober","Paradise","Hercules","YOUTH","Me You","Plastic Bag","She Will Be Loved - Radio Mix","Idgaf (feat. Will Claye)","HYFR (Hell Ya Fucking Right)","Tipsy - Club Mix","Swalla (feat. Nicki Minaj &amp; Ty Dolla $ign)","STFU","Jump Out The Window","Paradise","Big Fish","Classic Man","Real Hitta (feat. Kodak Black)","chateau","Choices (Yup)","Boulevard Of Broken Dreams - feat. John Gallagher Jr., Rebecca Naomi Jones, Stark Sands, Company [Album Version]","I Mean It","Down For Me","Different Hos","Another Day in Paradise","Instinct (feat. MadeinTYO)","Tongue Tied","Dusk Till Dawn - Radio Edit","Marijuana","G.O.A.T.","Feels Great (feat. Fetty Wap &amp; CVBZ)","Cassette","Drop The World","Studio","679 (feat. Remy Boyz)","Willy Wonka (feat. Paulina &amp; Jafé)","first take","lose","Ride Slow","Right My Wrongs","Let Em' Know","Recognize (feat. Drake)","Too Player","sweet sweet","way back","Pass Dat","Walk On Water","Let Me Explain","Pornography","Life Is Short","dothatshit!","She Knows","Scholarship","Might Not","King Sh*t","Face Down","Muthaf**ka Up","B.M.F. (Blowin' Money Fast)","Blasé (feat. Future &amp; Rae Sremmurd)","Bake Sale (feat. Travis Scott)","Moolah","Purple Lamborghini (with Rick Ross)","California Love - Original Version","Hard For","Cinderella Man","Erbody But Me","Dope","Bricksquad - feat. Gudda Gudda [Explicit Album Version]","Wild Boy","Lil Bit","Grove St. Party - feat. Kebo Gotti [Explicit Album Version]","Flex (Ooh, Ooh, Ooh)","50K Remix (feat. T.I.)","Lemonade"],["T.I.","Future","Lupe Fiasco","Travis Scott","Playboi Carti","JAY Z","KYLE","Kendrick Lamar","Kendrick Lamar","Young Money","Lil Uzi Vert","Future","Lil Dicky","Lil Wayne","Lil Wayne","Lil Wayne","Kanye West","Young Thug","Young Thug","A$AP Rocky","Meek Mill","Kendrick Lamar","Lil Wayne","Kid Ink","Travis Scott","Lupe Fiasco","Kanye West","Young Thug","Post Malone","Kanye West","Young Thug","Kanye West","Kanye West","Kanye West","Lil Wayne","Lil Wayne","Mike WiLL Made-It","Lil Uzi Vert","The Weeknd","Lil Uzi Vert","Lil Wayne","NAV","Ty Dolla $ign","Future","Kanye West","Gucci Mane","Migos","Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert","Wiz Khalifa","Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert","A$AP Ferg","Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert","Ed Sheeran","Jeremih","Kiiara","Young Thug","DJ Khaled","The Chainsmokers","Migos","A Boogie Wit da Hoodie","Migos","Big Sean","Post Malone","Rae Sremmurd","PnB Rock","Ed Sheeran","Petit Biscuit","The Weeknd","Future","Mike Perry","Big Sean","The-Dream","Ray J","Miley Cyrus","Drake","Drake","Alessia Cara","Kevin Gates","Future","Rihanna","Kelly Rowland","Rihanna","Drake","Bryson Tiller","Martin Garrix","Halsey","Nick Jonas","Post Malone","ZAYN","Jeremih","French Montana","Miley Cyrus","Kygo","Future","Calvin Harris","Khalid","Halsey","NAV","YFN Lucci","Halsey","Pia Mia","Snakehips","DeJ Loaf","Tee Grizzley","2 Chainz","Camila Cabello","PnB Rock","PARTYNEXTDOOR","Bryson Tiller","Drake","NAV","Skrillex","Ross Copperman","Halsey","Billie Eilish","Kygo","Migos","Post Malone","Big Sean","J. Cole","A$AP Rocky","Chance The Rapper","Kendrick Lamar","J. Cole","J. Cole","Eminem","Future","Kodak Black","A$AP Rocky","Chance The Rapper","Kodak Black","Travis Scott","XXXTENTACION","Migos","Chance The Rapper","Travis Scott","Meek Mill","Gucci Mane","Gucci Mane","MadeinTYO","Kodak Black","Travis Scott","Big Sean","Playboi Carti","Drake","21 Savage","Travis Scott","A$AP Ferg","2 Chainz","J. Cole","Gucci Mane","Post Malone","Post Malone","MadeinTYO","Kanye West","Gucci Mane","The Notorious B.I.G.","A Boogie Wit da Hoodie","The Notorious B.I.G.","Kanye West","Kid Cudi","Lil Uzi Vert","Smokepurpp","Rae Sremmurd","Migos","Kevin Gates","Kid Cudi","Ayo &amp; Teo","Lil Pump","Logic","J. Cole","Lil Uzi Vert","Drake","J. Cole","J. Cole","J. Cole","21 Savage","Post Malone","Kodak Black","Russ","Drake","Drake","Drake","2 Chainz","Rich Homie Quan","Russ","21 Savage","21 Savage","Tee Grizzley","Tee Grizzley","Kamaiyah","Lil Pump","ScHoolboy Q","O.T. Genasis","Future","Rae Sremmurd","Rae Sremmurd","Rae Sremmurd","21 Savage","Ugly God","A Boogie Wit da Hoodie","Ski Mask The Slump God","Kap G","Drake","Drake","21 Savage","Macklemore","T-Pain","OG Maco","YG","Desiigner","YG","Drake","Future","Drake","Ace Hood","Drake","Bryson Tiller","Migos","XXXTENTACION","Rob $tone","Kendrick Lamar","Chris Brown","Kodak Black","Yo Gotti","Bobby Shmurda","M City JR","Yo Gotti","Ne-Yo","Jeremih","Kehlani","Drake","Beyoncé","Chris Brown","Mario","Usher","Joe","David Archuleta","August Alsina","August Alsina","New Kids On The Block","J. Holiday","Frank Ocean","Mariah Carey","Mariah Carey","Ed Sheeran","6LACK","6LACK","Russ","Frank Ocean","Mariah Carey","TLC","Bruno Mars","Bruno Mars","J. Holiday","Romeo Santos","Ne-Yo","James Arthur","Janine","Ray J","Drake","Ed Sheeran","Prince Royce","Drake","Drake","Ed Sheeran","Yo Trane","Maurice Moore","gnash","Ella Mai","Beyoncé","Chris Brown","Justin Bieber","Natasha Bedingfield","Frankie J","Bow Wow","Bow Wow","Rascal Flatts","K-Ci &amp; JoJo","J. Holiday","XXXTENTACION","XXXTENTACION","Trey Songz","blackbear","blackbear","blackbear","Marc E. Bassy","A Boogie Wit da Hoodie","Khalid","Russ","Toni Romiti","Toni Romiti","Russ","Khalid","Toni Romiti","Drake","Trey Songz","Ella Mai","dvsn","SZA","Daniel Caesar","blackbear","XXXTENTACION","H.E.R.","dvsn","Daniel Caesar","Khalid","Trey Songz","Lloyd","Usher","Tyrese","Ja Rule","Mario Winans","Avant","Trey Songz","PARTYNEXTDOOR","Jeremih","Frankie J","Troye Sivan","Russ","Russ","Trey Songz","Akon","Ne-Yo","blackbear","NF","Jason Walker","Drake","J. Cole","J. Cole","J. Cole","J. Cole","J. Cole","J. Cole","J. Cole","Chance The Rapper","Bastille","Bastille","Bastille","Bastille","21 Savage","Eminem","Eminem","Eminem","Eminem","Eminem","Eminem","Eminem","Eminem","Eminem","Mike WiLL Made-It","Kanye West","JAY Z","XXXTENTACION","Lil Yachty","Drake","Drake","Drake","Drake","Chance The Rapper","Rae Sremmurd","blackbear","Marshmello","A$AP Rocky","Kodak Black","Lil Uzi Vert","XXXTENTACION","XXXTENTACION","XXXTENTACION","XXXTENTACION","A$AP Ferg","Kid Cudi","Kid Cudi","Rob Curly","Kanye West","A$AP Rocky","Drake","A$AP Rocky","Kanye West","Kanye West","Kanye West","Kanye West","G-Eazy","Chance The Rapper","G-Eazy","Jeremih","Drake","Drake","Drake","G-Eazy","The Weeknd","Post Malone","Post Malone","Drake","6LACK","Drake","Khalid","Roy Woods","PARTYNEXTDOOR","Maggie Lindemann","Maluma","MadeinTYO","Drake","Speaker Knockerz","Drake","Drake","Drake","Drake","Drake","Drake","Aminé","Nebu Kiniza","Kodak Black","Lil Uzi Vert","A Boogie Wit da Hoodie","Meek Mill","MadeinTYO","Post Malone","Lil Yachty","Maluma","A Boogie Wit da Hoodie","Romeo Santos","Ozuna","Migos","Romeo Santos","Drake","Drake","Carnage","Kodak Black","Bruno Mars","French Montana","Klasico","Ricky Martin","A Boogie Wit da Hoodie","Ozuna","Romeo Santos","Bad Bunny","Ozuna","Ozuna","Ozuna","Trippie Redd","Trippie Redd","Trippie Redd","Trippie Redd","Trippie Redd","Trippie Redd","Trippie Redd","Trippie Redd","Trippie Redd","Ozuna","A Boogie Wit da Hoodie","SZA","Noah Cyrus","Zara Larsson","Phora","Kendrick Lamar","Majid Jordan","Eric Bellinger","Chris Brown","Earl Sweatshirt","Vince Staples","Frank Ocean","Frank Ocean","Kendrick Lamar","Kendrick Lamar","Post Malone","J. Cole","A Tribe Called Quest","Frank Ocean","Kid Cudi","Frank Ocean","Kevin Abstract","Isaiah Rashad","NF","Frank Ocean","Tyga","Bei Maejor","Frank Ocean","Travis Scott","Russ","Russ","G-Eazy","G-Eazy","G-Eazy","Post Malone","Post Malone","Post Malone","Post Malone","Post Malone","Post Malone","Post Malone","William Singe","Mac Miller","Beyoncé","Soulja Boy","Lil Wayne","Yo Gotti","DJ Esco","Pham","Frank Ocean","Nas","Frank Ocean","Tyler, The Creator","Frank Ocean","SZA","Russ","Juicy J","2Pac","Tyler, The Creator","Tyler, The Creator","Tyler, The Creator","Tyler, The Creator","Tyler, The Creator","Wale","XXXTENTACION","Rich Gang","Fetty Wap","Hopsin","A$AP Rocky","Lil Wayne","Machine Gun Kelly","A$AP Rocky","Kid Cudi","A$AP Rocky","Kendrick Lamar","Logic","Lil Wayne","Kendrick Lamar","Jay Rock","Twenty One Pilots","G-Eazy","CeeLo Green","Fetty Wap","Fetty Wap","Zedd","Fetty Wap","The Chainsmokers","YFN Lucci","Flo Rida","Twenty One Pilots","T-Pain","Futuristic","Jidenna","Frank Ocean","Skrillex","Kendrick Lamar","Halsey","Young M.A","Chris Brown","Troy Ave","Ty Dolla $ign","Rae Sremmurd","Omarion","Nicki Minaj","Future","Nicki Minaj","Louis Tomlinson","P!nk","Macklemore","blackbear","Kesha","Bebe Rexha","Aminé","Hayden James","Marshmello","The Chainsmokers","Jeremy Zucker","Lil Dicky","Alan Walker","Kanye West","Young Thug","Bryson Tiller","Meek Mill","Young Thug","2 Chainz","Travis Scott","NAV","Meek Mill","Big Sean","Migos","Chris Brown","Mike Stud","Bryson Tiller","A$AP Mob","Bas","Meek Mill","NAV","Aminé","Chris Brown","Jordin Sparks","Berhana","Berhana","Rob $tone","Donnie Trumpet &amp; The Social Experiment","Jeremih","Calvin Harris","Aminé","Chance The Rapper","Kendrick Lamar","Bryson Tiller","Wale","Chance The Rapper","Portugal. The Man","Frank Ocean","Chance The Rapper","Khalid","Billie Eilish","Calvin Harris","Shawn Mendes","Calvin Harris","Camila Cabello","T-Pain","SZA","Khalid","GoldLink","Dua Lipa","Daniel Caesar","Bruno Major","The Weeknd","Marc E. Bassy","Jeremy Passion","Daniel Caesar","R. Kelly","Mothica","DRAM","SZA","B.o.B","SZA","Bruno Mars","NAV","Kodak Black","Wale","Travis Scott","Shy Glizzy","GoldLink","Young Thug","Playboi Carti","Playboi Carti","Lil Xan","The Chainsmokers","Calvin Harris","ZAYN","Zara Larsson","Martin Garrix","Martin Garrix","Calvin Harris","Calvin Harris","Jack Ü","Flo Rida","Jason Derulo","Drake","Drake","Drake","Drake","Swedish House Mafia","Big Sean","Snoop Dogg","Lil Wayne","DJ Khaled","Big Sean","Wiz Khalifa","Wiz Khalifa","Wiz Khalifa","Waka Flocka Flame","Rihanna","T.I.","Drake","Tyga","Tyga","Big Sean","Wiz Khalifa","Macklemore &amp; Ryan Lewis","Macklemore &amp; Ryan Lewis","A$AP Rocky","Wiz Khalifa","Juicy J","Juicy J","Mac Miller","Mac Miller","Mac Miller","Kanye West","A$AP Rocky","Flo Rida","DJ Khaled","Jason Derulo","Wiz Khalifa","Flo Rida","Jason Derulo","The Killers","Galantis","Kygo","Ty Dolla $ign","K CAMP","Future","Chief Keef","Bruno Mars","Beyoncé","Chief Keef","Ryan Caraveo","Young Thug","Troye Sivan","Russ","Drake","Maroon 5","YG","Drake","J-Kwon","Jason Derulo","mansionz","Big Sean","Big Sean","Vince Staples","Jidenna","Plies","blackbear","E-40","Green Day","G-Eazy","G-Eazy","blackbear","Quinn XCII","Roy Woods","Grouplove","ZAYN","Kid Cudi","Eric Bellinger","Cheat Codes","ayokay","Lil Wayne","ScHoolboy Q","Fetty Wap","Russ","Travis Scott","Travis Scott","Russ","Bryson Tiller","Bryson Tiller","PARTYNEXTDOOR","Vinny West","Travis Scott","Travis Scott","Jeremih","A$AP Mob","Bryson Tiller","Travis Scott","Ski Mask The Slump God","Playboi Carti","Ne-Yo","Juicy J","Belly","Yo Gotti","DJ Mustard","Tyga","Rick Ross","Ty Dolla $ign","Wiz Khalifa","Young Greatness","Skrillex","2Pac","Kevin Gates","Eminem","Tech N9ne","Tyga","Waka Flocka Flame","Machine Gun Kelly","K CAMP","Waka Flocka Flame","Rich Homie Quan","Waka Flocka Flame","Gucci Mane"],["Yeet","Yeet","Yeet","Yeet","Yeet","Yeet","Yeet","Yeet","Yeet","Yeet","Yeet","Yeet","Yeet","Yeet","Yeet","Yeet","Yeet","Yeet","Yeet","Yeet","Yeet","Yeet","Yeet","Yeet","Yeet","Yeet","Yeet","Yeet","Yeet","Yeet","Yeet","Yeet","Yeet","Yeet","Yeet","Yeet","Yeet","Yeet","Yeet","Yeet","Yeet","Yeet","Yeet","Yeet","Yeet","Yeet","Yeet","LUV","LUV","LUV","LUV","LUV","LUV","LUV","LUV","LUV","LUV","LUV","LUV","LUV","LUV","LUV","LUV","LUV","LUV","LUV","LUV","LUV","LUV","LUV","LUV","LUV","LUV","LUV","LUV","LUV","LUV","LUV","LUV","LUV","LUV","high","high","high","high","high","high","high","high","high","high","high","high","high","high","high","high","high","high","high","high","high","high","high","high","high","high","high","high","high","high","high","high","high","high","high","high","high","high","high","high","high","high","high","high","high","high","high","high","high","high","high","high","high","high","high","high","high","high","high","high","high","high","high","high","wrap","wrap","wrap","wrap","wrap","wrap","wrap","wrap","wrap","wrap","wrap","wrap","wrap","wrap","wrap","wrap","wrap","wrap","wrap","wrap","wrap","wrap","wrap","wrap","wrap","wrap","wrap","wrap","wrap","wrap","wrap","wrap","wrap","wrap","wrap","wrap","wrap","wrap","wrap","wrap","wrap","wrap","wrap","wrap","wrap","wrap","wrap","wrap","wrap","wrap","wrap","wrap","wrap","mixtape","mixtape","mixtape","mixtape","mixtape","mixtape","mixtape","mixtape","mixtape","mixtape","Litty ","Litty ","Litty ","Litty ","Litty ","Litty ","Litty ","Litty ","Litty ","Litty ","Litty ","Litty ","Litty ","Litty ","Litty ","Litty ","Litty ","Litty ","Litty ","Litty ","Litty ","Litty ","Litty ","Litty ","Litty ","Litty ","Litty ","Litty ","Litty ","Litty ","Litty ","Litty ","Litty ","Litty ","Litty ","Litty ","Litty ","Litty ","Litty ","Litty ","Litty ","Litty ","Litty ","Litty ","Litty ","Litty ","Litty ","Litty ","Litty ","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","in my feels","issa playlist","issa playlist","issa playlist","issa playlist","issa playlist","issa playlist","issa playlist","issa playlist","issa playlist","issa playlist","issa playlist","issa playlist","issa playlist","issa playlist","issa playlist","issa playlist","issa playlist","issa playlist","issa playlist","issa playlist","issa playlist","issa playlist","issa playlist","issa playlist","issa playlist","issa playlist","issa playlist","issa playlist","issa playlist","issa playlist","issa playlist","issa playlist","issa playlist","issa playlist","issa playlist","issa playlist","issa playlist","issa playlist","issa playlist","issa playlist","issa playlist","issa playlist","issa playlist","issa playlist","nite","nite","nite","nite","nite","nite","nite","nite","nite","nite","nite","nite","nite","nite","nite","nite","nite","nite","nite","nite","nite","nite","nite","nite","nite","nite","nite","nite","Current","music","music","music","music","music","music","music","music","music","music","music","music","music","music","music","music","music","music","music","music","music","music","music","music","music","music","music","music","music","music","music","music","music","music","music","music","music","music","music","music","music","music","music","music","music","music","music","music","music","music","music","😴😴","😴😴","😴😴","😴😴","😴😴","😴😴","😴😴","😴😴","explicit","explicit","explicit","explicit","explicit","explicit","explicit","explicit","explicit","explicit","explicit","explicit","explicit","explicit","explicit","explicit","explicit","explicit","explicit","explicit","explicit","explicit","explicit","explicit","explicit","explicit","explicit","explicit","explicit","explicit","explicit","explicit","explicit","explicit","explicit","explicit","explicit","explicit","explicit","explicit","explicit","explicit","explicit","explicit","explicit","explicit","explicit","explicit","explicit","explicit","explicit","explicit","explicit","explicit","explicit","explicit","KILLA","KILLA","KILLA","KILLA","KILLA","KILLA","KILLA","KILLA","KILLA","KILLA","KILLA","KILLA","KILLA","KILLA","KILLA","KILLA","KILLA","KILLA","KILLA","KILLA","KILLA","KILLA","KILLA","KILLA","KILLA","KILLA","KILLA","KILLA","KILLA","KILLA","KILLA","KILLA","Rap it up","Rap it up","Rap it up","Rap it up","Rap it up","Rap it up","Rap it up","Rap it up","Rap it up","college","college","college","college","college","college","college","Tunes ","Tunes ","Tunes ","Tunes ","Tunes ","Tunes ","My Music","My Music","My Music","My Music","My Music","My Music","My Music","My Music","My Music","My Music","My Music","My Music","My Music","My Music","My Music","My Music","My Music","My Music","My Music","My Music","BANGERZ","BANGERZ","BANGERZ","BANGERZ","BANGERZ","BANGERZ","BANGERZ","BANGERZ","BANGERZ","BANGERZ","BANGERZ","BANGERZ","BANGERZ","BANGERZ","BANGERZ","BANGERZ","BANGERZ","BANGERZ","BANGERZ","BANGERZ","BANGERZ","BANGERZ","BANGERZ","BANGERZ","BANGERZ","BANGERZ","BANGERZ","BANGERZ","BANGERZ","BANGERZ","BANGERZ","BANGERZ","BANGERZ","BANGERZ","BANGERZ","BANGERZ","BANGERZ","BANGERZ","BANGERZ","BANGERZ","Rap","Its a Trap","Its a Trap","Its a Trap","Its a Trap","Its a Trap","litty","litty","litty","litty","HITS","HITS","HITS","HITS","HITS","HITS","HITS","HITS","HITS","HITS","HITS","HITS","HITS","HITS","HITS","HITS","HITS","HITS","HITS","HITS","HITS","HITS","HITS","HITS","HITS","HITS","HITS","HITS","HITS","HITS","HITS","HITS","HITS","HITS","HITS","HITS","HITS","HITS","HITS","HITS","HITS","HITS","HITS","HITS","HITS","HITS","HITS","HITS","HITS","summer 2k17","summer 2k17","summer 2k17","summer 2k17","summer 2k17","summer 2k17","summer 2k17","summer 2k17","summer 2k17","summer 2k17","summer 2k17","summer 2k17","summer 2k17","summer 2k17","summer 2k17","summer 2k17","summer 2k17","summer 2k17","summer 2k17","summer 2k17","summer 2k17","summer 2k17","summer 2k17","summer 2k17","summer 2k17","summer 2k17","summer 2k17","summer 2k17","summer 2k17","summer 2k17","summer 2k17","summer 2k17","summer 2k17","summer 2k17","summer 2k17","summer 2k17","summer 2k17","summer 2k17","summer 2k17","summer 2k17","summer 2k17","❤❤❤","❤❤❤","❤❤❤","❤❤❤","❤❤❤","❤❤❤","❤❤❤","❤❤❤","❤❤❤","❤❤❤","❤❤❤","❤❤❤","❤❤❤","❤❤❤","❤❤❤","❤❤❤","❤❤❤","❤❤❤","💯💯💯","💯💯💯","💯💯💯","💯💯💯","💯💯💯","💯💯💯","💯💯💯","💯💯💯","💯💯💯","💯💯💯","💯💯💯","💯💯💯","💯💯💯","💯💯💯","💯💯💯","💯💯💯","💯💯💯","💯💯💯","💯💯💯","💯💯💯","💯💯💯","💯💯💯","💯💯💯"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>track_name<\/th>\n      <th>artist_name<\/th>\n      <th>playlist_name<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":10,"scrollX":true,"columnDefs":[{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"track_name","targets":1},{"name":"artist_name","targets":2},{"name":"playlist_name","targets":3}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>same_key_tempo <span class="ot">&lt;-</span> combined_df <span class="sc">|&gt;</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(key <span class="sc">==</span> anchor_tracks<span class="sc">$</span>key[<span class="dv">1</span>]) <span class="sc">|&gt;</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">abs</span>(tempo <span class="sc">-</span> anchor_tracks<span class="sc">$</span>tempo[<span class="dv">1</span>]) <span class="sc">&lt;=</span> <span class="dv">5</span>) <span class="sc">|&gt;</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(track_id <span class="sc">!=</span> anchor_tracks<span class="sc">$</span>track_id[<span class="dv">1</span>]) <span class="sc">|&gt;</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(track_id, track_name, artist_name, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>)</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>same_key_tempo <span class="sc">|&gt;</span></span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(track_name, artist_name, key, tempo) <span class="sc">|&gt;</span></span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">datatable</span>(</span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Songs with the Same Key and Similar Tempo"</span>,</span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">options =</span> <span class="fu">list</span>(<span class="at">pageLength =</span> <span class="dv">10</span>, <span class="at">scrollX =</span> <span class="cn">TRUE</span>)</span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-7a55cf1feee67f5e9c3e" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-7a55cf1feee67f5e9c3e">{"x":{"filter":"none","vertical":false,"caption":"<caption>Songs with the Same Key and Similar Tempo<\/caption>","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126"],["We Can't Stop","Feel It Still","All My Loving - Remastered","You &amp; Me","Ho Hey","American Honey","Scene Five - With Ears To See and Eyes To Hear","Bounce Back","Hey Girl","Sad Song (feat. Elena Coates)","3030","Back To Back","Location","Freak In You","夜曲","你不知道的事","Party Monster","This Could Be the Night","Start A Fire","Like an Avalanche","Bad Guy","My Chick Bad","Money Maker","It's Goin' Down (feat. Nitti) - Feat. Nitti Explicit Album Version","Full Circle","How Far I'll Go","Runaway","Cupid's Chokehold / Breakfast In America","Izzo (H.O.V.A.)","Renegade","What Do I Have to Do?","Diddy Bop (feat. Cam O'bi &amp; Raury)","Superheroes","Fire And Desire","Just Kickin' It","Hunger","Backseat Freestyle","Touchin On My","This Guy's In Love With You","Like A Rock","Will You Still Love Me? - Alternate Version","High School","I Swear","Dear Future Husband","Earth (feat. Future)","Glitter","Colors Of The Wind","Fallingforyou","Landslide","For No One - Remastered","That's the Way of the World","Oh Yoko! - 2010 - Remaster","Elm Street","Fire &amp; Desire","Hey There","22 (OVER S∞∞N)","Because He Lives (Amen)","Bottle It Up - Acoustic Mixtape","Fortune - Acoustic","Orlando","The Council Of Elrond - feat. \"Aniron Theme For Aragorn And Arwen \"","He'll Have to Go","Must Be Nice","Some Cut (feat. Cutty) - feat. Cutty Explicit Version","Can't Have Everything","U Don't Know Me","Only One","Welcome 2 Houston - Feat. Chamillioniare, Paul Wall, Mike Jones, Ugk, Lil Keke, Z-ro, Trae, Rob G, Lil O, Big Pokey, Mike D &amp; Yung Redd","Mo Money (Interlude)","No Problem","Knockin Doors Down","Lavender Blood","I Come Apart","Pussy Monster","THE BROWN STAINS OF DARKEESE LATIFAH PART 6-12 (REMIX)","Stuck Like Glue","City","Trap Niggas","American Woman","See You Leave","Today's Your Day (Wachagonedu?)","This Is My Version","Fly Like A Bird","Weston Road Flows","West Coast","My Strongest Suit","Gold Soul Theory","Freedom","Down By The River","Evermore","Dope Dealer","Tremor Christ - Remastered","Great One","Come over (feat. James Fauntleroy)","When We Ride On Our Enemies - Briss Remix","I Know You See It (feat. Brandy \"Ms. B\" Hambrick) - Feat. Brandy \"Ms. B\" Hambrick Explicit Album Version","Unstoppable","Andy, You're A Star","No Children","We Do It For Fun Pt. 2","Streetcorner Symphony","How Come U Don't Call Me Anymore","King Kong","Cold Is The Night","Vampire - Feat. Whiteboy John","Slow Fade","Untouchable","Hey Hey What Can I Do","Emotional","Heavenly Father","Right To It (feat. Ashe)","Don't Push Me","A Nightingale Sang In Berkeley Square","Known","Lose My Mind","Trap Star","Another Night","The Percocet &amp; Stripper Joint","No Tears","Indescribable - Live","Break 'Em Off Somethin' - 2005 Digital Remaster","Loose as a Goose (feat. Foxx &amp; Mouse) - Explicit Album Version","Sucka Nigga","El Ultimo Adiós - Varios Artistas Version","Fireman - Main","Will You Be There (Theme from \"Free Willy\")"],["Miley Cyrus","Portugal. The Man","The Beatles","Marc E. Bassy","Nashville Cast","Lady Antebellum","Sleeping With Sirens","Big Sean","Billy Currington","We The Kings","Deltron 3030","Drake","Khalid","PARTYNEXTDOOR","Jay Chou","Leehom Wang","The Weeknd","Loverboy","Unspoken","Hillsong United","Eminem","Ludacris","Ludacris","Yung Joc","Quinn XCII","Auli'i Cravalho","Kanye West","Gym Class Heroes","JAY Z","JAY Z","Stabbing Westward","Noname","Esthero","Rick James","Xscape","Ross Copperman","Kendrick Lamar","3OH!3","Herb Alpert &amp; The Tijuana Brass","Bob Seger","Chicago","Nicki Minaj","John Michael Montgomery","Meghan Trainor","Mac Miller","Tyler, The Creator","Judy Kuhn","The 1975","Oh Wonder","The Beatles","Earth, Wind &amp; Fire","John Lennon","Jimmy Wopo","Drake","DeJ Loaf","Bon Iver","Matt Maher","Sam Hunt","William Fitzsimmons","XXXTENTACION","Howard Shore","Jim Reeves","Lyfe Jennings","Trillville","Drake","T.I.","Yellowcard","Slim Thug","J. Cole","Lil Scrappy","Pimp C","Fox Academy","A$AP Rocky","Lil Wayne","Tyler, The Creator","Sugarland","Hollywood Undead","Future","Lenny Kravitz","RJD2","Fatlip","Conor Maynard","Mariah Carey","Drake","The Neighbourhood","Sherie Rene Scott","The Underachievers","Pharrell Williams","Morgan Heritage","Dan Stevens","ScHoolboy Q","Pearl Jam","Jessie Reyez","Nipsey Hussle","2Pac","Yung Joc","The Score","The Killers","The Mountain Goats","Tha Joker","Rob Thomas","Prince","Jibbs","The Oh Hellos","Tribal Seeds","Casting Crowns","YoungBoy Never Broke Again","Led Zeppelin","Carl Thomas","Isaiah Rashad","Louis The Child","50 Cent","Frank Sinatra","Tauren Wells","Jeezy","Jeezy","Mac Miller","Future","Scarface","Kierra Sheard","Master P","Boosie Badazz","A Tribe Called Quest","Ricky Martin","Lil Wayne","Michael Jackson"],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[80.003,79.02800000000001,77.56,84.414,82.97799999999999,85.997,77.06100000000001,81.502,81.947,85.024,81.61499999999999,86.976,80.126,86.5,86.98399999999999,86.982,77.52500000000001,84.578,81.97799999999999,83.524,81.086,84.789,78.756,84.003,78.00700000000001,83.72,86.986,78.953,84.411,84.797,86.318,81.06100000000001,79.59699999999999,82.04600000000001,80.902,78.899,77.878,83.949,83.768,82.795,77.09999999999999,84.81699999999999,85.523,79.42700000000001,84.011,78.56999999999999,81.551,84.825,81.29900000000001,81.208,82,85.297,77.99299999999999,79.923,85.01600000000001,86.786,83.97,84.682,78.455,84.902,83.93300000000001,81.181,82.94199999999999,85.012,82.44499999999999,83.914,81.291,78.99299999999999,84.831,85.98399999999999,80.027,83.351,83.937,82.619,84.94199999999999,83.961,77.54300000000001,81.018,83.988,81.95999999999999,82.258,77.944,79.81,82.874,78.047,77.333,78.88500000000001,86.14100000000001,80.926,79.44199999999999,82.027,77.746,81.82299999999999,86.14700000000001,85.428,84.018,78.001,84.126,84.944,84.991,81.81100000000001,83.065,77.992,79.986,77.01300000000001,78.015,84.95,77.98699999999999,83.10599999999999,80.93899999999999,79.03400000000001,85.60299999999999,79.02200000000001,77.872,77.81699999999999,86.67,80.973,80.04600000000001,81.93000000000001,80.877,82.14,86.994,86.233,77.986,80.634,82.98399999999999]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>track_name<\/th>\n      <th>artist_name<\/th>\n      <th>key<\/th>\n      <th>tempo<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":10,"scrollX":true,"columnDefs":[{"className":"dt-right","targets":[3,4]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"track_name","targets":1},{"name":"artist_name","targets":2},{"name":"key","targets":3},{"name":"tempo","targets":4}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>same_artist <span class="ot">&lt;-</span> combined_df <span class="sc">|&gt;</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(artist_name <span class="sc">==</span> anchor_tracks<span class="sc">$</span>artist_name[<span class="dv">1</span>]) <span class="sc">|&gt;</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(track_id <span class="sc">!=</span> anchor_tracks<span class="sc">$</span>track_id[<span class="dv">1</span>]) <span class="sc">|&gt;</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(track_id, track_name, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>)</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>same_artist <span class="sc">|&gt;</span></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(track_name, artist_name, album_name, year, popularity) <span class="sc">|&gt;</span></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">datatable</span>(</span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Songs by the Same Artist as the Anchor Track"</span>,</span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">options =</span> <span class="fu">list</span>(<span class="at">pageLength =</span> <span class="dv">10</span>, <span class="at">scrollX =</span> <span class="cn">TRUE</span>)</span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-a8bfa1749df219d91425" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-a8bfa1749df219d91425">{"x":{"filter":"none","vertical":false,"caption":"<caption>Songs by the Same Artist as the Anchor Track<\/caption>","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43"],["XO TOUR Llif3","Erase Your Social","X","Do What I Want","Go Off (with Lil Uzi Vert, Quavo &amp; Travis Scott)","You Was Right","Ps &amp; Qs","SideLine Watching (Hold Up)","Ballin","Super Saiyan","Money Longer","You're Lost","Hi Roller","Ronda (Winners)","Grab the Wheel","Top","All My Chains","7am","I Can Drive","Team Rocket","Safe House","Seven Million (feat. Future)","Right Now","Paradise","Two®","444+222","Sauce It Up","Feelings Mutual","Neon Guts (feat. Pharrell Williams)","Early 20 Rager","How To Talk","Malfunction","Dark Queen","Pretty Mami","Canadian Goose","No Sleep Leak","Scott and Ramona","For Real","UnFazed (feat. The Weeknd)","Enemies","Original Uzi (4 Of Us)","Money Mitch","Banned From TV"],["Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert","Lil Uzi Vert"],["Luv Is Rage 2","The Perfect LUV Tape","Luv Is Rage 2","The Perfect LUV Tape","Go Off","Lil Uzi Vert Vs. The World","Lil Uzi Vert Vs. The World","The Perfect LUV Tape","Luv Is Rage","Luv Is Rage","Lil Uzi Vert Vs. The World","The Perfect LUV Tape","Lil Uzi Vert Vs. The World","The Perfect LUV Tape","Lil Uzi Vert Vs. The World","Luv Is Rage","Luv Is Rage","Luv Is Rage","The Perfect LUV Tape","Lil Uzi Vert Vs. The World","Luv Is Rage","The Perfect LUV Tape","Luv Is Rage","Luv Is Rage","Luv Is Rage 2","Luv Is Rage 2","Luv Is Rage 2","Luv Is Rage 2","Luv Is Rage 2","Luv Is Rage 2","Luv Is Rage 2","Luv Is Rage 2","Luv Is Rage 2","Luv Is Rage 2","Lil Uzi Vert Vs. The World","Luv Is Rage 2","Lil Uzi Vert Vs. The World","Luv Is Rage 2","Luv Is Rage 2","Luv Is Rage","The Perfect LUV Tape","The Perfect LUV Tape","Luv Is Rage"],[2017,2016,2017,2016,2017,2016,2016,2016,2015,2015,2016,2016,2016,2016,2016,2015,2015,2015,2016,2016,2015,2016,2015,2015,2017,2017,2017,2017,2017,2017,2017,2017,2017,2017,2016,2017,2016,2017,2017,2015,2016,2016,2015],[84,74,61,69,61,72,70,68,51,53,76,58,60,60,60,67,52,68,58,59,51,63,54,61,60,62,70,59,64,55,58,56,70,59,61,59,57,60,60,57,55,53,51]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>track_name<\/th>\n      <th>artist_name<\/th>\n      <th>album_name<\/th>\n      <th>year<\/th>\n      <th>popularity<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":10,"scrollX":true,"columnDefs":[{"className":"dt-right","targets":[4,5]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"track_name","targets":1},{"name":"artist_name","targets":2},{"name":"album_name","targets":3},{"name":"year","targets":4},{"name":"popularity","targets":5}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>same_year_similar_audio <span class="ot">&lt;-</span> combined_df <span class="sc">|&gt;</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">==</span> anchor_tracks<span class="sc">$</span>year[<span class="dv">1</span>]) <span class="sc">|&gt;</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">abs</span>(danceability <span class="sc">-</span> anchor_tracks<span class="sc">$</span>danceability[<span class="dv">1</span>]) <span class="sc">&lt;=</span> <span class="fl">0.1</span>,</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">abs</span>(energy <span class="sc">-</span> anchor_tracks<span class="sc">$</span>energy[<span class="dv">1</span>]) <span class="sc">&lt;=</span> <span class="fl">0.1</span>,</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">abs</span>(acousticness <span class="sc">-</span> anchor_tracks<span class="sc">$</span>acousticness[<span class="dv">1</span>]) <span class="sc">&lt;=</span> <span class="fl">0.1</span></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(track_id <span class="sc">!=</span> anchor_tracks<span class="sc">$</span>track_id[<span class="dv">1</span>]) <span class="sc">|&gt;</span></span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(track_id, track_name, artist_name, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>)</span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a>same_year_similar_audio <span class="sc">|&gt;</span></span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(track_name, artist_name, year, danceability, energy, acousticness) <span class="sc">|&gt;</span></span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">datatable</span>(</span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Songs from the Same Year with Similar Audio Features"</span>,</span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">options =</span> <span class="fu">list</span>(<span class="at">pageLength =</span> <span class="dv">10</span>, <span class="at">scrollX =</span> <span class="cn">TRUE</span>)</span>
<span id="cb30-16"><a href="#cb30-16" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-5eb63532ae62009bd990" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-5eb63532ae62009bd990">{"x":{"filter":"none","vertical":false,"caption":"<caption>Songs from the Same Year with Similar Audio Features<\/caption>","data":[["1","2","3","4","5","6","7"],["OOOUUU","YAH.","Kelly Price (feat. Travis Scott)","Hopeless","La Carretera","Bibia Be Ye Ye","Girls"],["Young M.A","Kendrick Lamar","Migos","Khalid","Prince Royce","Ed Sheeran","Lil Peep"],[2017,2017,2017,2017,2017,2017,2017],[0.635,0.67,0.745,0.785,0.747,0.738,0.644],[0.847,0.7,0.6850000000000001,0.702,0.6860000000000001,0.677,0.697],[0.533,0.576,0.53,0.643,0.587,0.52,0.5600000000000001]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>track_name<\/th>\n      <th>artist_name<\/th>\n      <th>year<\/th>\n      <th>danceability<\/th>\n      <th>energy<\/th>\n      <th>acousticness<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":10,"scrollX":true,"columnDefs":[{"className":"dt-right","targets":[3,4,5,6]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"track_name","targets":1},{"name":"artist_name","targets":2},{"name":"year","targets":3},{"name":"danceability","targets":4},{"name":"energy","targets":5},{"name":"acousticness","targets":6}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="the-ultimate-playlist" class="level2">
<h2 class="anchored" data-anchor-id="the-ultimate-playlist"><span style="border-bottom: 3px solid #ccc; padding-bottom: 5px;">The Ultimate Playlist</span></h2>
<p>After looking through all the songs with similar artists, playlists, tempos and more, I finally created my ultimate playlist and analyzed the energy, danceability, and valence of the tracks with a focus on the energy because I wanted it to progress throughout the playlist, gradually building emotion and in the end end making the listener feel empowered.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>all_candidates <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>  same_playlist_songs,</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>  same_key_tempo,</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>  same_artist,</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>  same_year_similar_audio,</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>  anchor_tracks</span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span> </span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(track_id, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>)</span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>final_playlist <span class="ot">&lt;-</span> all_candidates <span class="sc">|&gt;</span> </span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(track_name <span class="sc">%in%</span> <span class="fu">c</span>(</span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">"The Way Life Goes (feat. Oh Wonder)"</span>,</span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">"90210"</span>,</span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">"夜曲"</span>,</span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Runaway"</span>,</span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Fallingforyou"</span>,</span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Girls"</span>,</span>
<span id="cb31-17"><a href="#cb31-17" aria-hidden="true" tabindex="-1"></a>    <span class="st">"It Takes Time"</span>,</span>
<span id="cb31-18"><a href="#cb31-18" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Hopeless"</span>,</span>
<span id="cb31-19"><a href="#cb31-19" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Love Galore"</span>,</span>
<span id="cb31-20"><a href="#cb31-20" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Feel No Ways"</span>,</span>
<span id="cb31-21"><a href="#cb31-21" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Nights"</span>,</span>
<span id="cb31-22"><a href="#cb31-22" aria-hidden="true" tabindex="-1"></a>    <span class="st">"LOVE. FEAT. ZACARI."</span></span>
<span id="cb31-23"><a href="#cb31-23" aria-hidden="true" tabindex="-1"></a>  ))</span>
<span id="cb31-24"><a href="#cb31-24" aria-hidden="true" tabindex="-1"></a>final_playlist <span class="ot">&lt;-</span> final_playlist <span class="sc">|&gt;</span></span>
<span id="cb31-25"><a href="#cb31-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(energy) <span class="sc">|&gt;</span></span>
<span id="cb31-26"><a href="#cb31-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb31-27"><a href="#cb31-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">order =</span> <span class="fu">row_number</span>(),</span>
<span id="cb31-28"><a href="#cb31-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">track_name =</span> <span class="fu">factor</span>(track_name, <span class="at">levels =</span> track_name)</span>
<span id="cb31-29"><a href="#cb31-29" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb31-30"><a href="#cb31-30" aria-hidden="true" tabindex="-1"></a>final_playlist <span class="sc">|&gt;</span></span>
<span id="cb31-31"><a href="#cb31-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(track_name, artist_name, year, popularity, energy, danceability) <span class="sc">|&gt;</span></span>
<span id="cb31-32"><a href="#cb31-32" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="at">caption =</span> <span class="st">"Final Playlist: The Loverboy Collection"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Final Playlist: The Loverboy Collection</caption>
<colgroup>
<col style="width: 41%">
<col style="width: 17%">
<col style="width: 5%">
<col style="width: 12%">
<col style="width: 8%">
<col style="width: 14%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">track_name</th>
<th style="text-align: left;">artist_name</th>
<th style="text-align: right;">year</th>
<th style="text-align: right;">popularity</th>
<th style="text-align: right;">energy</th>
<th style="text-align: right;">danceability</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Fallingforyou</td>
<td style="text-align: left;">The 1975</td>
<td style="text-align: right;">2013</td>
<td style="text-align: right;">61</td>
<td style="text-align: right;">0.285</td>
<td style="text-align: right;">0.264</td>
</tr>
<tr class="even">
<td style="text-align: left;">It Takes Time</td>
<td style="text-align: left;">Trippie Redd</td>
<td style="text-align: right;">2017</td>
<td style="text-align: right;">69</td>
<td style="text-align: right;">0.304</td>
<td style="text-align: right;">0.845</td>
</tr>
<tr class="odd">
<td style="text-align: left;">90210</td>
<td style="text-align: left;">Travis Scott</td>
<td style="text-align: right;">2015</td>
<td style="text-align: right;">75</td>
<td style="text-align: right;">0.526</td>
<td style="text-align: right;">0.402</td>
</tr>
<tr class="even">
<td style="text-align: left;">Nights</td>
<td style="text-align: left;">Frank Ocean</td>
<td style="text-align: right;">2016</td>
<td style="text-align: right;">78</td>
<td style="text-align: right;">0.548</td>
<td style="text-align: right;">0.466</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Runaway</td>
<td style="text-align: left;">Kanye West</td>
<td style="text-align: right;">2010</td>
<td style="text-align: right;">72</td>
<td style="text-align: right;">0.568</td>
<td style="text-align: right;">0.571</td>
</tr>
<tr class="even">
<td style="text-align: left;">LOVE. FEAT. ZACARI.</td>
<td style="text-align: left;">Kendrick Lamar</td>
<td style="text-align: right;">2017</td>
<td style="text-align: right;">79</td>
<td style="text-align: right;">0.585</td>
<td style="text-align: right;">0.800</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Love Galore</td>
<td style="text-align: left;">SZA</td>
<td style="text-align: right;">2017</td>
<td style="text-align: right;">76</td>
<td style="text-align: right;">0.594</td>
<td style="text-align: right;">0.795</td>
</tr>
<tr class="even">
<td style="text-align: left;">夜曲</td>
<td style="text-align: left;">Jay Chou</td>
<td style="text-align: right;">2005</td>
<td style="text-align: right;">55</td>
<td style="text-align: right;">0.649</td>
<td style="text-align: right;">0.674</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Feel No Ways</td>
<td style="text-align: left;">Drake</td>
<td style="text-align: right;">2016</td>
<td style="text-align: right;">70</td>
<td style="text-align: right;">0.674</td>
<td style="text-align: right;">0.588</td>
</tr>
<tr class="even">
<td style="text-align: left;">Girls</td>
<td style="text-align: left;">Lil Peep</td>
<td style="text-align: right;">2017</td>
<td style="text-align: right;">68</td>
<td style="text-align: right;">0.697</td>
<td style="text-align: right;">0.644</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Hopeless</td>
<td style="text-align: left;">Khalid</td>
<td style="text-align: right;">2017</td>
<td style="text-align: right;">62</td>
<td style="text-align: right;">0.702</td>
<td style="text-align: right;">0.785</td>
</tr>
<tr class="even">
<td style="text-align: left;">The Way Life Goes (feat. Oh Wonder)</td>
<td style="text-align: left;">Lil Uzi Vert</td>
<td style="text-align: right;">2017</td>
<td style="text-align: right;">78</td>
<td style="text-align: right;">0.757</td>
<td style="text-align: right;">0.703</td>
</tr>
</tbody>
</table>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(final_playlist, <span class="fu">aes</span>(<span class="at">x =</span> track_name)) <span class="sc">+</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> energy), <span class="at">color =</span> <span class="st">"orange"</span>, <span class="at">size =</span> <span class="fl">1.2</span>, <span class="at">group =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> danceability), <span class="at">color =</span> <span class="st">"steelblue"</span>, <span class="at">size =</span> <span class="fl">1.2</span>, <span class="at">group =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> valence), <span class="at">color =</span> <span class="st">"purple"</span>, <span class="at">size =</span> <span class="fl">1.2</span>, <span class="at">group =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Ultimate Playlist: The Loverboy Collection"</span>,</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"Energy (orange), Danceability (blue), Valence (purple)"</span>,</span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Track Name"</span>,</span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Feature Value (0–1 scale)"</span></span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>, <span class="at">size =</span> <span class="dv">9</span>),</span>
<span id="cb32-14"><a href="#cb32-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>)</span>
<span id="cb32-15"><a href="#cb32-15" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="mp03_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>


</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>Ching-Wei Chen, Paul Lamere, Markus Schedl, and Hamed Zamani. Recsys Challenge 2018: Automatic Music Playlist Continuation. In Proceedings of the 12th ACM Conference on Recommender Systems (RecSys ’18), 2018.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/wowlime\.github\.io\/STA9750-2025-SPRING\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>